\documentclass[12pt,]{article}

\usepackage[margin=1in]{geometry}
\usepackage{amscd}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{enumerate}
%\usepackage{tikz}
%\usetikzlibrary{external}
%\tikzexternalize
%% This pre-compiles tikz pictures so that they do not have to be compiled every time.
%% For this to work you need to activate the flag:
%%   -shell-escape
%%
%% You can also manually run this by calling
%%   pdflatex -shell-escape filename.tex
%%
\usepackage{pgfplots}
\pgfplotsset{compat=1.16}
\usepackage{wrapfig, caption}
%\usepackage{framed}
\usepackage{float}
\usetikzlibrary{arrows}
\usepackage[font=small,labelfont=bf]{caption}
\usepackage{xcolor}
\usepackage{mathtools}
\usepackage[colorlinks=true, linkcolor=blue, citecolor=blue,
pagebackref=true]{hyperref}
%\usepackage{ulem}
\usepackage{comment}

\usepackage[capitalise]{cleveref}

\usepackage{refcheck}
%%making refcheck recognise cref
%%% Infrastructure    
\makeatletter
\newcommand{\refcheckizelist}[1]{%
  \expandafter\let\csname @@\string#1\endcsname#1%
  \expandafter\DeclareRobustCommand\csname relax\string#1\endcsname[1]{%
    \csname @@\string#1\endcsname{##1}% typeset as usual
    \@for\rc@tmp:=##1\do{\wrtusdrf{\rc@tmp}}% loop over comma list
  }%
  \expandafter\let\expandafter#1\csname relax\string#1\endcsname
}
\makeatother




%%% Now we add the reference commands we want refcheck to be aware of
\refcheckizelist{\cref}
\refcheckizelist{\Cref}


\makeatletter
\pdfstringdefDisableCommands{%
  % What hyperref should put in the outline instead of \cref{<label>}
  \def\cref#1{\ref{#1}}%
  \def\Cref#1{\ref{#1}}%
  % \wrtusdrf writes to an aux file – that would break inside \pdfstringdef
  \let\wrtusdrf\@gobble
}
\makeatother


%\normalem
\parskip=5pt

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%     THEOREMS, STATEMENTS, DEFINITIONS  AND SO ON      %%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newtheorem{theorem}{Theorem}[section]
\newtheorem*{theorem*}{Theorem}
\newtheorem{theoremY}{Theorem Y}
\newtheorem*{theoremY*}{Theorem Y}
\newtheorem{theoremAB}{Theorem AB}
\newtheorem*{theoremAB*}{Theorem AB}

\newtheorem{corollary}[theorem]{Corollary}
\newtheorem*{corollary*}{Corollary}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{claim}[theorem]{Claim}
\newtheorem*{claim*}{Claim}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{problem}[theorem]{Problem}
\newtheorem{question}[theorem]{Question}
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}
\newtheorem*{remark*}{Remark}
\newtheorem{example}{Example}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% THE DEFINITION OF A NEW FAMILY OF FONTS AND RELATED COMMANDS %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\font\tenmsy=msbm10 scaled 1200 \font\sevenmsy=msbm7 scaled 1200
%\font\fivemsy=msbm5 scaled 1200
%\newfam\msyfam
%\textfont\msyfam=\tenmsy \scriptfont\msyfam=\sevenmsy
%\scriptscriptfont\msyfam=\fivemsy
%\newcommand{\Bbb}[1]{{\fam\msyfam\relax#1}}
\renewcommand{\Bbb}[1]{\mathbb{#1}}
\newcommand{\bbA}{{\Bbb A}}         % often algebraic numbers
\newcommand{\bbB}{{\Bbb B}}
\newcommand{\bbC}{{\Bbb C}}         % complex numbers
\newcommand{\bbD}{{\Bbb D}}
\newcommand{\bbE}{{\Bbb E}}
\newcommand{\bbF}{{\Bbb F}}
\newcommand{\bbG}{{\Bbb G}}
\newcommand{\bbH}{{\Bbb H}}
\newcommand{\bbK}{{\Bbb K}}         % integer numbers
\newcommand{\bbL}{{\Bbb L}}
\newcommand{\bbM}{{\Bbb M}}
\newcommand{\bbN}{{\Bbb N}}         % natural numbers
\newcommand{\bbO}{{\Bbb O}}
\newcommand{\bbP}{{\Bbb P}}
\newcommand{\bbQ}{{\Bbb Q}}         % rational numbers
\newcommand{\bbR}{{\Bbb R}}        % real numbers
\newcommand{\bbRp}{{\Bbb R}^{+}}    % positive real numbers
\newcommand{\bbS}{{\Bbb S}}
\newcommand{\bbT}{{\Bbb T}}
\newcommand{\bbU}{{\Bbb U}}
\newcommand{\bbV}{{\Bbb V}}
\newcommand{\bbW}{\mathcal{W}}
\newcommand{\bbX}{{\Bbb X}}
\newcommand{\bbY}{{\Bbb Y}}
\newcommand{\bbZ}{{\Bbb Z}}         % integer numbers

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%              \cal                      %%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\cA}{{\cal A}}
\newcommand{\cB}{{\cal B}}
\newcommand{\cC}{{\cal C}}
\newcommand{\cD}{{\cal D}}
\newcommand{\cE}{{\cal E}}
\newcommand{\cF}{{\cal F}}
\newcommand{\cG}{{\cal G}}
\newcommand{\cH}{{\cal H}}
\newcommand{\cI}{{\cal I}}
\newcommand{\cJ}{{\cal J}}
\newcommand{\cK}{{\cal K}}
\newcommand{\cL}{{\cal L}}
\newcommand{\cM}{{\cal M}}
\newcommand{\cN}{{\cal N}}
\newcommand{\cO}{{\cal O}}
\newcommand{\cP}{{\cal P}}
\newcommand{\cQ}{{\cal Q}}
\newcommand{\cR}{{\cal R}}
\newcommand{\cS}{{\cal S}}
\newcommand{\cSM}{{\cal S}^*}
\newcommand{\cT}{{\cal T}}
\newcommand{\cU}{{\cal U}}
\newcommand{\cV}{{\cal V}}
\newcommand{\cW}{{\cal W}}
\newcommand{\cX}{{\cal X}}
\newcommand{\cY}{{\cal Y}}
\newcommand{\cZ}{{\cal Z}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                       GREEK                         %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\ve}{\varepsilon}
\newcommand{\Om}{\Omega}
\newcommand{\U}{\Upsilon}
\newcommand{\La}{\Lambda}

\newcommand{\tpsi}{\tilde\psi}
\newcommand{\tphi}{\tilde\phi}
\newcommand{\tU}{\tilde\Upsilon}

\newcommand{\Pn}{\Phi_n}
\newcommand{\Pm}{\Phi_m}
\newcommand{\Pj}{\Phi_j}
\newcommand{\pn}{\varphi_n}


\newcommand{\balpha}{\boldsymbol{\alpha}}
\newcommand{\bgamma}{\boldsymbol{\gamma}}

\newcommand{\fixx}{\Phi}
\newcommand{\fixy}{\Theta}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                       VECTORS                       %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\x}{\mathbf{x}}
\newcommand{\y}{\mathbf{y}}
\newcommand{\p}{\mathbf{p}}
\newcommand{\q}{\mathbf{q}}
\newcommand{\br}{\mathbf{r}}
\newcommand{\bv}{\mathbf{v}}
\newcommand{\0}{\mathbf{0}}
\newcommand{\ba}{{\overline a}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                 VARIOUS COMMANDS                    %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\ie}{{\it i.e.}\/ }
\newcommand{\eg}{{\it e.g.}\/ }
\newcommand{\diam}{\text{diam}}
\newcommand{\dist}{\operatorname{dist}}
%\newcommand{\set}[1]{\left\{#1\right\}}
\newcommand{\Veronese}{\cV}
\renewcommand{\le}{\leq}
\renewcommand{\ge}{\geq}
\newcommand{\ra}{R_{\alpha}}
\newcommand{\kgb}{K_{G,B}}
\newcommand{\kgbl}{K_{G',B^{(l)}}}
\newcommand{\kgbf}{K^f_{G,B}}
\newcommand{\hf}{\cH^f}
\newcommand{\hs}{\cH^s}
\newcommand{\eps}{\varepsilon}

\newcommand{\cev}[1]{\reflectbox{\ensuremath{\vec{\reflectbox{\ensuremath{#1}}}}}}
%\newcommand{\bi}{\vec{\imath}\,}
\newcommand{\bi}{\mathbf{i}}
%\newcommand{\bj}{\vec{\jmath}\,}
\newcommand{\bj}{\mathbf{j}}
\newcommand*{\vv}[1]{\vec{\mkern0mu#1}}
\newcommand{\bk}{{\vec{k}}}
%\newcommand{\bu}{{\vec{u}}}
\newcommand{\bu}{\mathbf{u}}
\newcommand{\bo}{{\vec{o}}}
\newcommand{\bbi}{\,\cev{\imath}}
\newcommand{\bbj}{\,\cev{\jmath}}
\newcommand{\bbu}{{\cev{u}}}
\newcommand{\bbo}{{\cev{o}}}

\newcommand{\an}{(A;n)}
\newcommand{\ann}{(A';n')}
\newcommand{\Ln}{(L;n)}
\newcommand{\Lj}{(L;j)}
\newcommand{\aj}{(A;j)}
\newcommand{\ajj}{(A';j')}
\newcommand{\ajs}{(A;j^*)}
\newcommand{\aji}{(A;j_i)}
\newcommand{\ajis}{(A;j_{i^{**}})}
\newcommand{\as}{(A;s)}
\newcommand{\at}{(A;t)}
\newcommand{\can}{\cC\an}
\newcommand{\caj}{\cC\aj}
\newcommand{\cajs}{\cC\ajs}
\newcommand{\caji}{\cC\aji}
\newcommand{\cajis}{\cC\ajis}
\newcommand{\cas}{\cC\as}
\newcommand{\cat}{\cC\at}

\newcommand{\tW}{\widetilde{W}}

\newcommand{\Id}{\text{Id}}
\newcommand{\Exact}{\mathbf{Exact}}
\newcommand{\Bad}{\mathbf{Bad}}
\newcommand{\sing}{\mathbf{Sing}}
\newcommand{\DI}{\mathbf{DI}}
\newcommand{\FS}{\mathbf{FS}}
\newcommand{\ibad}{\mathbf{IBA}}
\newcommand{\well}{\mathbf{WA}}
\newcommand{\vwa}{\mathbf{VWA}}
\newcommand{\nvwa}{\mathbf{NVWA}}
\newcommand{\bone}{\boldsymbol{1}}
\newcommand{\recipso}{\mathcal R_0}
\newcommand{\freeD}{\mathcal{D}'}
\newcommand{\comp}{^{\mathsf{c}}}
\newcommand{\nopar}{{\parfillskip=0pt \par}}

\newcommand{\rfootnote}[1]{\footnote{\color{red}#1}}


\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\DeclarePairedDelimiter{\set}{\lbrace}{\rbrace}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\parens}{\lparen}{\rparen}
\DeclarePairedDelimiter{\brackets}{\lbrack}{\rbrack}

\DeclareMathOperator{\Leb}{Leb}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\dimh}{\dim_H}
\DeclareMathOperator{\vol}{vol}
\DeclareMathOperator{\Freq}{Freq}


\allowdisplaybreaks

%\setlength{\parindent}{0pt} %--Uncomment to not indent paragraphs
%\linespread{2} %-- Uncomment for double spacing

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                   END OF MACROS                     %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title{On exponential separation of analytic self-conformal sets on the real line}

\author{Bal\'azs B\'ar\'any\footnote{Balazs has grants}\\(BME) \and Istv\'an
  Kolossv\'ary\footnote{IK is supported by the European Research Council Marie Sk\l odowska--Curie Actions Postdoctoral Fellowship $\#101109013$ and the Hungarian NRDI Office grant K142169.}\\ (R\'enyi Institute) \and Sascha
Troscheit\footnote{ST acknowledges travel funding from the Lisa \& Carl--Gustav Esseens Mathematics
Fund.} \\(Uppsala)}
\date{\today}


\newcommand{\Addresses}{{% additional braces for segregating \footnotesize
  \bigskip
  \footnotesize

  B.~B\'ar\'any, \textsc{Department of Stochastics, HUN-REN-BME Stochastics Research Group,
  Institute of Mathematics, Budapest University of Technology and Economics, M\H{u}egyetem rkp.~3.,
H-1111 Budapest, Hungary.}\par\nopagebreak
  \textit{E-mail address}, B.~B\'ar\'any: \texttt{balubsheep@gmail.com}

  \medskip

  I.~Kolossv\'ary, \textsc{HUN-REN Alfr\'ed R\'enyi Institute of Mathematics, 1053 Budapest, Re\'altanoda u.
13–15, Hungary}\par\nopagebreak
  \textit{E-mail address}, I.~Kolossv\'ary: \texttt{istvanko@renyi.hu}
   \medskip


  S.~Troscheit, \textsc{Department of Mathematics, Box 480, 751 06 Uppsala University, Sweden.}\par\nopagebreak
  \textit{E-mail address}, S.~Troscheit: \texttt{sascha.troscheit@math.uu.se}
}}

\begin{document}

\frenchspacing
\maketitle

\begin{abstract}
In a recent preprint Rapaport showed that the there is no dimension drop for
exponentially separated analytic IFSs on the real line. We show that the set of such exponentially
separated IFSs in the space of analytic IFSs contains an open and dense set in the $\mathcal{C}^2$
topology. Moreover, we give a sufficient condition for the IFS to be exponentially separated which
allows us to construct explicit examples which are exponentially separated. The key
technical tool is the introduction of the \emph{dual IFS} which we believe has significant interest
in its own right. As an application we also characterise when an analytic IFS is conjugate to a
self-similar IFS. 
\end{abstract}


{{\color{blue}
\textbf{Things to do:}
MSC2020 classification, keywords, funding. Some minor adjustments and
\begin{description}
\item[\cref{sec:intro}] Introduce notation for conformal IFS, affine and analytic map, dim of
  measure, self-conformal measure at start. Define $\mathcal{C}^2$ topology. Give motivation for why
  conjugation is important. 
\item Prove~\cref{lem:ExistanceAttractor}. Remark about attractor on more general spaces?
  We need to prove \cref{lem:SSCEequiv}. Finish proof of~\cref{thm:H_iAnalytic}. 
\item[\cref{sec:ProofSufficientCond}] In proof of~\cref{thm:main} deal with $|\bu^{(n_\ell)}| \to
  \infty$ case using~\cref{lem:SSCEequiv}.
\item[\cref{sec:ProofESCOpenDense}] In proof of~\cref{thm:ESCOpenDense}, open property needs to be
  written down and dense property needs some polishing.
\item[\cref{sec:ProofConjugation}] Argument for equivalences in proof of~\cref{thm:SubConjugation}
  need to be written down.
\end{description}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%	INTRODUCTION
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Introduction and main results} \label{sec:intro}
The geometric properties of attractors of iterated function has been extensively studied in the last
decades.
An iterated function system $\Phi$ is a finite collection of strictly contracting self-maps
$(f_i)_{i\in\mathcal{I}}$ on a complete separable metric space $X$. By a result of Hutchinson
\cite{Hutchinson_Attractor_81}, there exists a unique non-empty compact set $\Lambda$ satisfying the
invariance
\begin{equation}\label{eq:Hutchinson}
  \Lambda = \bigcup_{i\in\mathcal{I}} f_i(\Lambda).
\end{equation}
Similarly, one can consider measures invariant under this relation, in the following sense:
Given a non-degenerate probability vector $\mathbf{p}=(p_i)_{i\in\mathcal{I}}$, \ie
$\sum_{i\in\mathcal{I}}p_i=1$ and all $p_i>0$, there exists a unique Borel probability measure
$\mu_{\mathbf{p}}$ with compact support such that
\begin{equation}\label{eq:conformaMeasure}
\mu_{\mathbf{p}}=\sum_{i \in \mathcal{I}} p_i \cdot \mu_{\mathbf{p}} \circ f_i^{-1}.
\end{equation}
The size of such sets and measures, as measured through dimension, is one of the main focus points of fractal
geometry. Answering questions in such generality is generally unfeasible and one often restricts to
the simpler setting of $X=\mathbb{R}^d$ and where the $f_i$ are simpler mappings such as
similarities, affinities, or conformal maps.

Hutchinson \cite{Hutchinson_Attractor_81} considered the Hausdorff dimension of the attractor of
IFSs consisting of similarities on $\mathbb{R}^d$ under a separation condition, the open set
condition (OSC), and provided a formula for the dimension of the sets depending solely on the
contraction ratios of the similarities. In particular, the OSC holds under the stronger assumption
of the strong separation condition (SSC). We say that the IFS $\Phi=(f_i)_{i\in \mathcal{I}}$
satisfies the SSC if
\begin{equation*}
  f_i(\Lambda)\cap f_j(\Lambda) = \varnothing\quad\text{whenever}\quad i\neq j.
\end{equation*}
Hutchinson also showed that this value provides an upper bound for
the dimension regardless of the overlaps of images of $\Lambda$ under the $f_i$.  Bowen
\cite{Bowen75} and Ruelle \cite{Ruelle2004} extended this result to attractors of
$\mathcal{C}^{1+\alpha}$ conformal mappings, with the natural upper bound known as the conformality
dimension. Similar question can be asked for the measure, see Cawley and Mauldin
\cite{CawleyMauldin92} and Patschke \cite{Patzschke97}, for the self-similar and self-conformal
setting. 

The actual value of the Hausdorff dimension of the attractor may drop below this natural upper
bound. This occurs, for instance, when the maps have exact overlaps and it is an open problem (the
dimension drop conjecture) whether this is the only mechanism for a dimension drop to occur, see
Simon \cite{Simon1996}.  It was since verified that the conformality dimension coincides with the
Hausdorff dimension, at least typically, for several notions of typicality.

Simon, Solomyak, and Urba\'nski \cite{SimonSolomyakUrbanski1,SimonSolomyakUrbanski2} considered
parametrised families of $C^{1+\alpha}$ and showed that under some technical assumptions
(transversality condition) there is no dimension drop for the set and measure for almost every
parameter with respect to the Lebesgue measure. Relying on transversality methods, Simon and
Solomyak \cite{SimonSolomyak02} showed that for self-similar sets the set of exceptions where a
dimension drop occurs on a meagre set in the Baire category sense. 

Other approaches, involving different notions of dimension or separation conditions were also
considered, see
Zerner \cite{Zerner1996}; Lau and Ngai \cite{LauNgai1999}; Ngai and Wang \cite{NgaiWang2001}; Fraser,
Henderson, Olson, and Robinson \cite{FHOR2015}; and Angelevska, K\"aenm\"aki, and Troscheit
\cite{AngelevskaKaenmakiTroscheit2020}; and references therein.

A major breakthrough was made by Hochman \cite{Hochman_SelfSimESC_Annals} who showed that no
dimension drop occurs for self-similar sets and measures on the line under the
assumption of the exponential separation condition (ESC).
The ESC is a condition that is satisfied under many natural assumption and also holds for many typical
systems including those described above. 
For instance, it was shown in~\cite{Hochman_SelfSimESC_Annals}
that if the parameters defining the self-similar IFS $\Phi$ are algebraic and $\Phi$ has no exact
overlaps then the ESC holds. The algebraic condition has since been relaxed in certain settings,
see~\cite{FengFeng_DimHomoIFSAlgebraicTrans_arxiv, Rapaport_ExactOverlapsAlgebraicContr,
RapaportVarju_Duke24, Varju_BernConv_Annals19}.
Generalisations have also been made to higher dimensions by Hochman \cite{Hochman2017} and for special non-linear
maps, M\"obius transformations, by Hochman and Solomyak \cite{HochmanSolomyak_Invent17}.


Recently, Rapaport \cite{Rapaport_SelfConfESC25arXiv} extended the concept of the exponential
separation condition to general
analytic self-conformal iterated function systems. Furthermore, under this condition, Rapaport
showed that the dimension of the set and the measure does not drop.
For analytically parametrised systems of analytic self-conformal IFSs, Rapaport verified that the
ESC holds for almost every choice of parameter in the sense of packing dimension.
However, he could not provide any concrete examples other than those already known.

The purpose of this article is to provide verifiable sufficient conditions that guarantee that the
ESC holds. Further, we show that this property holds for an open and dense set of IFSs with respect to the
$\mathcal{C}^2$ topology.

\subsection{Notations and Main Results}
For convenience we write define $I=[0,1]$.
Throughout we fix $\epsilon>0$ and  we define the class of $\mathcal{S}^\omega_\epsilon(I)$
consisting of maps $f:\mathbb{R}\to\mathbb{R}$ with the following properties:
\begin{enumerate}[a)]
  \item $f$ is complex analytic in the open $2\epsilon$ complex neighbourhood
    $\mathcal{B}_{2\epsilon}$ of  $I$,
  \item $f(I) \subseteq I$ and $f(\mathcal{B}_{2\epsilon}) \subseteq
    \mathcal{B}_{\epsilon}$,
  \item $0<|f'(x)|<1$ for all $x\in\mathcal{B}_{2\epsilon}$.
\end{enumerate}
We write
\[
  d_2(f,g) = \sup_{x\in I} |f(x)-g(x)|+\sup_{x\in I} |f'(x)-g'(x)| +\sup_{x\in I} |f''(x)-g''(x)|,
\]
for the $\mathcal{C}^2$ metric and equip the space $\mathcal{S}^\omega_\epsilon(I)$ with the
$\mathcal{C}^2$ topology induced by the $d_2$. We note that this space is Polish, i.e.\ a complete
and separable space.
We also consider the space $\mathfrak{S}_N$ of cardinality $N$ IFSs $\Phi=(f_i)_{i=1}^N$ of maps $f_i\in
\mathcal{S}^\omega_\epsilon([0,1])$, and we equip it with product topology.
With slight abuse of terminology, we refer to the product topology as the $\mathcal{C}^2$ topology
of the space of IFSs.

From the finite alphabet $\mathcal{I}\coloneqq\{1,\ldots,N\}$ we construct infinite words
$\bi=(i_1,i_2,i_3,\dots) \in\Sigma \coloneqq \mathcal{I}^{\bbN}$ and finite words
$\bi=(i_1,\ldots,i_k)\in \Sigma_k\coloneqq \mathcal{I}^k$ of length $k\in\mathbb{N}$, where
$\Sigma_0=\{\emptyset\}$ is just the empty word. The length of $\bi\in\Sigma_k$ is $|\bi|=k$ and for
$\bi\in\Sigma$ it is $|\bi|=\infty$. We denote the set of all finite words by $\Sigma_* =
\bigcup_{k=0}^\infty \Sigma_k$. For any finite word $(i_1,\dots,i_n)\in\Sigma_*$, we write
\[
f_{i_1,\dots,i_n} = f_{i_1}\circ \dots \circ f_{i_n},
\]
where by convention $f_{\emptyset}=\mathrm{Id}$. The natural projection $\pi\colon\Sigma\to\bbR$ defined by
\[
\pi(\bi)\coloneqq\lim_{n\to\infty}f_{i_1,\dots,i_n}(0)
\]
satisfies $\pi(\Sigma)=\Lambda$, where $\Lambda$ is the attractor satisfying the invariance in
\cref{eq:Hutchinson}. 
Following Rapaport \cite{Rapaport_SelfConfESC25arXiv}, we formally define the exponential separation
condition for analytic self-conformal IFSs.
\begin{definition}
  We say that the IFS $\Phi=(f_i)_{i\in\mathcal{I}}$ 
  satisfies the \emph{exponential separation condition (ESC)} if there exists $c>0$ such that for
  infinitely many $n\in\mathbb{N}$,
  \[
    \sup_{x\in[0,1]} |f_{\bi}(x)-f_{\bj}(x)| \geq c^n
  \]
  for all distinct $\bi,\bj\in\Sigma_n$. If the ESC does not hold,
  then we say that $\Phi$ has \emph{super-exponential condensation}; 	
  %\ie there exists a sequence
  %$(\eta_n)_n$ such that $\log(\eta_n)/n\to-\infty$ with the property that
  %\[
  %\sup_{x\in[0,1]}|f_{\bi}(x)-f_{\bj}(x)| \leq \eta_{n},
  %\]
\end{definition}
\begin{definition}
  We say that the IFS $\Phi=(f_i)_{i\in\mathcal{I}}$ 
  satisfies the \emph{strong exponential separation condition (SESC)} if there exists $c>0$ such that
  \[
    \sup_{x\in[0,1]} |f_{\bi}(x)-f_{\bj}(x)| \geq c^n
  \]
  for all $\bi,\bj\in\Sigma_n$ and $n\in\bbN$, where $\bi\neq\bj$. 

  If the SESC does not hold, \ie there exist a sequence $(\eta_n)_n$ and a subsequence
  $n_{\ell}\in\bbN$ and distinct words $\bi,\bj\in\Sigma_{n_\ell}$ such that
  $\log(\eta_n)/n\to-\infty$ and
  \[
    \sup_{x\in[0,1]}|f_{\bi}(x)-f_{\bj}(x)| \leq \eta_{n_\ell},
  \]
  then we say that $\Phi$ has \emph{weak super-exponential condensation}
\end{definition}
\begin{definition}
  We say that the IFS $\Phi=(f_i)_{i\in\mathcal{I}}$ 
 has \emph{exact overlaps} if there exist distinct $\bi,\bj\in\Sigma_*$ such that
 $f_{\bi}(x)=f_{\bj}(x)$ for every $x\in\Lambda$. 
\end{definition}

We remark that the separation conditions satisfy the implications 
\[
  \text{SSC $\Rightarrow$ SESC $\Rightarrow$ ESC
  $\Rightarrow$ no exact overlaps.} 
\]
%In full generality, it is not difficult to see that equality holds
%in~\cref{eq:DimUpperBound} under the SSC, however, an obvious obstruction is for $\Phi$ to have
%exact overlaps. In fact, the \emph{dimension drop conjecture} asserts that in the self-similar
%setting this is the only way for there to be strict inequality in~\cref{eq:DimUpperBound}. 
%A very active area of research within fractal geometry has been to confirm the conjecture for weaker
%separation conditions than the SSC.



The main objective of this article is to give generic and explicit conditions under which the
ESC holds for analytic IFSs. Roughly speaking, our first
main result says that the property that an analytic IFS satisfies the SESC is a generic property in
a topological sense.

\begin{theorem}\label{thm:ESCOpenDense}
  The set of IFSs $\{\Phi \colon \Phi\text{ satisfies SESC}\}\subseteq \mathfrak{S}_N$ satisfying the
  SESC contains an open and
  dense subset in the $\mathcal{C}^2$ topology.
\end{theorem}
We note that the $\mathcal{C}^2$ topology is a natural choice, being the finest topology for which
can differentiate strictly conformal maps sufficiently from linear maps, see also
\cref{sec:ConjLinSys}.

Our second main result provides a sufficient condition under which an analytic IFS satisfies the
SESC. We demonstrate in~\cref{sec:examples} that it can be used to construct completely explicit
examples of analytic IFSs that satisfy the SESC. In order to state the result, we introduce more
notation. Since we will often write finite words ``backwards'', we adopt the convention that for
$n\neq m\in\mathbb{N}$,
\begin{equation*}
	\bi_m^n\coloneqq
	\begin{cases}
		(i_m,i_{m+1},\ldots,i_{n-1},i_n), &\text{if } m<n; \\
		(i_m,i_{m-1},\ldots,i_{n+1},i_n,) &\text{if } m>n,
	\end{cases}
\end{equation*}
where $|\bi|\geq\max\{m,n\}$. This will most often be used in the form $\bi_1^n=(i_1,\ldots,i_n)$ or
$\bi_n^1=(i_n,\ldots,i_1)$. Thus for compositions of maps $f_{\bi_n^1}=f_{i_n}\circ \dots \circ
f_{i_1}$. Sometimes either $m$ or $n$ is $0$. In these cases, the convention is that both $\bi_0^n$
and $\bi_m^0$ are the empty word $\emptyset$. By default, if we simply write
$\bi\in\Sigma_*\cup\Sigma$ then the subscripts are understood to be in increasing order starting
from 1 until $|\bi|$. The concatenation of two finite words is $\bi\bj$, while slightly abusing
notation $\bi^{\infty}\in \Sigma$ is the infinite word obtained by concatenating $\bi\in\Sigma_*$
infinitely many times. We define the cylinder sets
$$[\bi_m^n] \coloneqq \big\{\bj\in\Sigma :\, \bj_1^{|m-n|+1} = \bi_m^n\big\}.$$  
For any $\bi\in \Sigma\cup\Sigma_*$, we introduce the function 
\begin{equation}\label{eq:H_i(x)}
H_{\bi}(x)=H_{\bi_{1}^{|\bi|}}(x) \coloneqq \sum_{n=1}^{|\bi|}
\frac{f''_{i_n}}{f'_{i_n}}(f_{\bi_{n-1}^1}(x))\cdot f'_{\bi_{n-1}^1}(x).
\end{equation}
The order of the indices is important. At this point the motivation for $H_{\bi}(x)$ may be unclear,
but will be made apparent in~\cref{sec:DualIFSFull}. 
We can now state our second main result.
\begin{theorem}
  \label{thm:main}
  Let $\Phi\in\mathfrak{S}_N$. If for all distinct $\bi,\bj \in\Sigma\cup\Sigma^*$ with $|\bi|=|\bj|$ we have
\begin{equation}\label{eq:H_iSSC}
    \sup_{x\in[0,1]} |H_{\bi}(x) - H_{\bj}(x)| > 0,
\end{equation}
then $\Phi$ satisfies the SESC.
\end{theorem}

We shall see in~\cref{thm:DualSSC} that~\cref{eq:H_iSSC} has an elegant interpretation as an analog
of the SSC on a larger space of IFSs which we further elaborate on in~\cref{sec:DualIFSFull}. Apart
from its practical use, \cref{thm:main} is also a crucial step in proving~\cref{thm:ESCOpenDense}.
Theorem~\ref{thm:main} is proved in~\cref{sec:ProofSufficientCond}, while the proof of
\cref{thm:ESCOpenDense} is postponed until \cref{sec:ProofESCOpenDense}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Discussion}
We give further context to our main results. We first discuss the dimension theoretic implications
of our main results and  give explicit examples of IFSs that satisfy the SESC. We end the section by
discussing a link to conjugation with self-similar IFSs.

\subsubsection{Dimension theoretic consequences}
Given a non-degenerate probability vector $\mathbf{p}$ and a self-conformal IFS $\Phi\in
\mathfrak{S}_N$, we define the entropy of $\mathbf{p}$,
\begin{equation*}
H(\mathbf{p})\coloneqq -\sum_{i\in\mathcal{I}} p_i\log p_i;
\end{equation*}
the Lyapunov exponent associated to $\mathbf{p}$ and $\Phi$,
\begin{equation*}
\chi=\chi(\Phi,\mathbf{p}):=-\sum_{i \in \mathcal{I}} p_i \int \log \big|f_{i}^{'}(x)\big|
\mathrm{d} \mu_{\mathbf{p}}(x),
\end{equation*}
where $\mu_{\mathbf{p}}$ is the self-conformal measure defined in \cref{eq:conformaMeasure}.
For $t\geq 0$, we define the pressure function
\begin{equation*}
P(t)=P_{\Phi}(t):=\lim _{n \rightarrow \infty} \frac{1}{n} \log \sum_{(i_1,\ldots,i_n) \in
\mathcal{I}^n} \Big(\sup_{x\in[0,1]} \big|(f_{i_1}\circ \dots \circ
f_{i_n})^{\prime}(x)\big|\Big)^t,
\end{equation*}
which is well defined by sub-additivity. It is convex, strictly decreasing and continuous, moreover,
there exists a unique real $s(\Phi)$ for which $P(s(\Phi))=0$.
Following~\cite[Chapter~14]{BaranySimonSolomyak_Book23}, we call $s(\Phi)$ the \emph{conformality
dimension} associated to $\Phi$. 
%For a self-similar IFS, $\chi=-\sum_{i \in
%\mathcal{I}}p_i\log |r_i|$ and $s(\Phi)$ is the unique solution to the equation $\sum_{i \in
%\mathcal{I}}|r_i|^{s(\Phi)}=1$.

For any self-conformal set and self-conformal measure supported on it, the bounds
\begin{equation}\label{eq:DimUpperBound}
\dim_{\mathrm{H}} \Lambda \leq \min\{1,s(\Phi)\}  \;\;\text{ and }\;\; \dim \mu_{\mathbf{p}} \leq
\min\{1, H(\mathbf{p})/\chi\} \text{ for every } \mathbf{p},
\end{equation} 
hold, regardless of possible overlaps between the pieces $f_i(\Lambda)$.
Here, we denote by $\dim_{\mathrm H}$ the Hausdorff dimension of a set an measure, see
\cite{FalconerBook} for definitions and basic properties.

Rapaport's main result of \cite{Rapaport_SelfConfESC25arXiv}
can be stated in the following way.

\begin{theorem}[\cite{Rapaport_SelfConfESC25arXiv}]\label{thm:RapaportMain}
  Let $\Phi\in\mathfrak{S}_N$ be such that its attractor is not a singleton. If
  $\Phi$ satisfies the ESC, then there is equality in~\cref{eq:DimUpperBound}.
\end{theorem}
We note that the assumption that the attractor is not a singleton is equivalent to the existence of
$f,g\in\Phi$ with distinct fixed points.
Combining our \cref{thm:ESCOpenDense} with~\cref{thm:RapaportMain} immediately gives the following corollary.

\begin{corollary}\label{cor:dim}
  The set $\{\Phi \colon \Phi \text{ satisfies equality in \cref{eq:DimUpperBound}}\}\subseteq
  \mathfrak{S}_N$ contains an open and dense subset in the $\mathcal{C}^2$ topology.
\end{corollary}
This can be interpreted as follows; a typical analytic self-conformal IFS, in a strong topological
sense, has no dimension drop.

{\color{red} Continue here!}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Concrete examples}\label{sec:examples}
Similarly to the self-similar setting, it would be desirable to have conditions under which one
could determine whether a concrete IFS or a parametrised family of IFSs satisfies the (S)ESC or not
also in the analytic setting. Rapaport~\cite[Corollary 1.4]{Rapaport_SelfConfESC25arXiv}, based on a
result of Solomyak and Takahashi~\cite{SolomyakTakahashi_IMRN21}, showed that under a mild
non-degeneracy condition, given a one-parameter family of analytic IFSs, the set of parameters for
which the ESC fails has zero Hausdorff dimension. Concrete families of IFSs can be constructed to
which this result applies, however, it still does not explicitly say whether an IFS is in the
exceptional set of parameters or not. 
In the following, we give an easy to verify sufficient condition and demonstrate on
an explicit analytic IFS that it satisfies the SESC. 

\begin{proposition}\label{prop:example}
Let $\Phi=(f_i)_{i\in\mathcal{I}}\in\mathfrak{S}_N$ be such that
\begin{equation*}
\sup_{\substack{x\in[0,1] \\ i\in\mathcal{I}}} \left|f_i'(x)\right|\leq c_{\max}<1\text{ and }\sup_{\substack{x\in[0,1] \\ i\in\mathcal{I}}} \left| \frac{f_i''(x)}{f_i'(x)} \right| \leq \beta
\end{equation*}
for some $c_{\max}, \beta>0$, furthermore, for each $i\neq j\in\mathcal{I}$ there exists $x_{i,j}\in[0,1]$ such that
\begin{equation*}
%\inf_{\substack{x\in[0,1] \\ i\neq j\in\Sigma_1}}
\left| \frac{f_i''(x_{i,j})}{f_i'(x_{i,j})} - \frac{f_j''(x_{i,j})}{f_j'(x_{i,j})} \right| \geq \alpha >0. 
\end{equation*}
If $\alpha > 2\beta\cdot c_{\max}/(1-c_{\max})$, then 
$
\sup_{x\in[0,1]} |H_{\bi}(x) - H_{\bj}(x)| > 0 
$
for all distinct $\bi,\bj \in\Sigma\cup\Sigma^*$ with $|\bi|=|\bj|$. In particular, $\Phi$ satisfies
the SESC by~\cref{thm:main}.
\end{proposition}

\begin{proof}
	By a standard compactness argument, there exists $c_{\min}>0$ such that
	$$
	\inf_{\substack{x\in[0,1] \\ i\in\mathcal{I}}} \left|f_i'(x)\right|\geq c_{\min}>0.
	$$
Let $\bi,\bj \in\Sigma\cup\Sigma^*$ with $|\bi|=|\bj|$ be distinct such that $|\bi\wedge \bj|=k$. It
follows from~\cref{eq:H_i(x)} that
\begin{equation*}
H_{\bi}(x)-H_{\bj}(x) = f_{\bi_k^1}'(x)\cdot \big( H_{\bi_{k+1}^{|\bi|}}(f_{\bi_k^1}(x)) -
H_{\bj_{k+1}^{|\bj|}}(f_{\bi_k^1}(x)) \big)
\end{equation*}
for every $x\in[0,1]$. As a result,
\begin{equation*}
|H_{\bi}(x)-H_{\bj}(x)| \geq c_{\min}^k\cdot \big| H_{\bi_{k+1}^{|\bi|}}(f_{\bi_k^1}(x)) -
H_{\bj_{k+1}^{|\bj|}}(f_{\bi_k^1}(x)) \big|.
\end{equation*}
Since $i_{k+1}\neq j_{k+1}$, for the particular choice of $x_{i_{k+1},j_{k+1}}$, we can further bound 
\begin{align*}
|H_{\bi}&(x_{i_{k+1},j_{k+1}}) - H_{\bj}(x_{i_{k+1},j_{k+1}})|\cdot c_{\min}^{-k} \\
&\geq \left| \frac{f_{i_{k+1}}''(x_{i_{k+1},j_{k+1}})}{f_{i_{k+1}}'(x_{i_{k+1},j_{k+1}})} -
\frac{f_{j_{k+1}}''(x_{i_{k+1},j_{k+1}})}{f_{j_{k+1}}'(x_{i_{k+1},j_{k+1}})} \right| - 2
\sum_{n=k+2}^{\infty}\; \sup_{x\in[0,1]} \big| f_{\bi_{n-1}^{k+1}}'(x) \big| \cdot \sup_{x\in[0,1]}
\left| \frac{f_{i_n}''(x)}{f_{i_n}'(x)} \right| \\
&\geq \alpha -  \frac{2\beta\cdot c_{\max}}{1-c_{\max}} >0
\end{align*}
by our assumption.
\end{proof}

To demonstrate \cref{prop:example} on an example. Consider the IFS $\Phi=(f_1,f_2,f_3)$ with
\begin{equation}\label{eq:exampleIFS}
f_1(x)\coloneqq \frac{x}{8}, \quad f_2(x)\coloneqq \frac{x}{8} + \frac{x^2}{32}, \text{ and } \quad
f_3(x)\coloneqq \frac{x}{16} + \frac{x^2}{32} + \frac{29}{32}. 
\end{equation}
Cylinder sets certainly overlap heavily since $f_1$ and $f_2$ have common fixed point at $x=0$,
while $f_3$ has fixed point at $x=1$. Simple calculations show that $c_{\max}=3/16$, moreover,
\begin{equation*}
\sup_{\substack{x\in[0,1] \\ i\in\mathcal{I}}} \left| \frac{f_i''(x)}{f_i'(x)} \right| \leq
\sup_{x\in[0,1]} \max\Big\{\frac{1}{1+x},\, \frac{1}{2+x} \Big\} = 1 \quad\text{ and }\quad
\min_{i\neq j\in\mathcal{I}}\left| \frac{f_i''(0)}{f_i'(0)} - \frac{f_j''(0)}{f_j'(0)} \right| \geq
\frac{1}{2} .
\end{equation*}
Since $1/2-2\cdot 1\cdot 3/13>0$, it follows from~\cref{prop:example} that $\Phi$ satisfies the SESC, and by \cref{cor:dim}, $\dim_{\rm H}\Lambda=s(\Phi)$, where $s(\Phi)$ is the conformality dimension of $\Phi$, defined in the previous section. 

Let us note that Solomyak~\cite{Solomyak24} has already gave an example of a non-linear conformal IFS of linear fractional transformations with such a common fixed point structure for which the dimension of the attractor does not drop. However, he studied the system via sufficiently large subsystems, and it was not verified that the IFS itself satisfies the ESC.

% and from~\cref{thm:SubConjugation} that it is not sub-conjugated to any self-similar IFS.
%{\color{red} Do we want to try to calculate/approximate the conformal similarity dimension of the
%attractor?}


\subsubsection{Dimension theoretic consequences revisited}

The example in \cref{eq:exampleIFS} 

A different direction to generalise the result of~\cite{Hochman_SelfSimESC_Annals} is to consider
the $L^q$ dimension of a self-similar measure which is a standard tool in multifractal analysis that
quantifies irregularities in the distribution of a measure. Given $q>1$, the $L^q$ dimension of a
Borel probability measure $\nu$ on $\mathbb{R}$ is 
\begin{equation*}
D(\nu, q)\coloneqq\liminf _{n \rightarrow \infty} \frac{-\log \sum_{j \in \mathbb{Z}}
\nu\left(\left[j \cdot 2^{-n},(j+1) \cdot 2^{-n}\right)\right)}{(q-1) n} .
\end{equation*}
Similarly to~\cref{eq:DimUpperBound}, there is a natural upper bound 
\begin{equation}\label{eq:LqUpperBound}
	D(\mu_{\mathbf{p}}, q) \leq \min \left\{\frac{T(\mu_{\mathbf{p}}, q)}{q-1} ,1\right\}
\end{equation}
which always holds, where $T(\mu_{\mathbf{p}}, q)$ is the unique solution to the equation
\begin{equation*}
	\sum_{i \in \mathcal{I}} p_i^q\left|r_i\right|^{-T(\mu_{\mathbf{p}}, q)}=1 .
\end{equation*}
Building on the methods of~\cite{Hochman_SelfSimESC_Annals},
Shmerkin~\cite{Shmerkin_LqSelfSim_Annals}  showed that there is equality in~\cref{eq:LqUpperBound}
for all self-similar measures and $q>1$ whenever the ESC holds. 


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{Conjugation to self-similar systems}\label{sec:ConjLinSys}

It is natural to ask whether with a change of coordinates an analytic IFS transforms to a self-similar one.
{\color{red} Also motivate C2 topology here again}

\begin{definition}\label{def:conjugation}
We say that the analytic IFS $\Phi = \{f_i\}_{i\in\Sigma_1}$ is 
\begin{itemize}
\item \emph{conjugated} to another IFS $\Psi$ if there exists an analytic, invertible
  $g:[0,1]\to\bbR$ such that $\Psi=\{g\circ f_i\circ g^{-1}\}_{i\in\Sigma_1}$. In particular, $\Phi$
  is conjugated to a self-similar IFS if there exist $\lambda_i
\in(-1,1)\setminus\{0\}$, $t_i\in\bbR$ with $i\in\Sigma_1$ such that
\[
f_{j}(x) = g^{-1}(\lambda_j g(x) + t_j)
\]
for all $j\in\Sigma_1$;
\item \emph{sub-conjugated} to a self-similar IFS if there exist distinct words $\bi,\bj\in\Sigma_*$ such that
$\{f_{\bi},f_{\bj}\}$ is conjugated to a self-similar IFS.
\end{itemize}
\end{definition}

\begin{remark}
Note that we assume the conjugating function $g$ to be analytic in~\cref{def:conjugation}. One could
impose the weaker condition that $f\in\mathcal{C}^r([0,1])$ for all $f\in\Phi$ for some $2\leq r\leq
\infty$ instead. Under this assumption, the authors of~\cite{AlgomEtal_NonLinHyperbolicIFS} show the
existence of a $\mathcal{C}^r$-smooth IFS which is not $\mathcal{C}^r$-conjugate to self-similar
even though $f'\equiv c_{\Phi}$ on $\Lambda$ and $f''\equiv 0$ for every $f\in\Phi$. This behaviour
is not possible in the analytic setting since the assumption that $f''(x)=0$ on $\Lambda$ together
with analyticity already forces $f$ to be an affine function. 
\end{remark}

We give a characterisation of when an analytic IFS is (sub-)conjugated to a self-similar IFS using
the function $H_{\bi}$ introduced in~\cref{eq:H_i(x)}.

\begin{theorem}\label{thm:SubConjugation}
Assume that $\Phi$ is a uniformly contracting analytic IFS whose attractor is not a singleton. Then
$\Phi$ is conjugated to another analytic IFS which has at least one affine map. Moreover, $\Phi$ is 
\begin{enumerate}
\item conjugated to a self-similar IFS if and only if for every $\bi,\bj\in\Sigma$,
\[
H_{\bi}(x) \equiv H_{\bj}(x)
\]
for all $x\in[0,1]$;
\item sub-conjugated to a self-similar IFS if and only if there exist $\bi,\bj\in\Sigma_*$ with
  $i_1\neq j_1$ such that 
\[
H_{(\bi)^\infty}(x) \equiv H_{(\bj)^\infty}(x)
\]
for all $x\in[0,1]$.
\end{enumerate}
\end{theorem}

In terms of the dual IFS, for an analytic IFS $\Phi$ to be conjugated to a self-similar IFS means
precisely that its dual attractor $\Lambda^*$ is a single analytic function $H$. If $\Phi$ is a
self-similar IFS to begin with, then $H\equiv 0$, otherwise $H$ can be different. {\color{red} What
happens to conjugation of $H_{\bi}$?} \cref{thm:SubConjugation} is proved
in~\cref{sec:ProofConjugation}.

{\color{red} Some motivation/references for conjugation would be nice here. Like Algom etal
JLMS~\cite{AlgomEtal_LogFourierDecaySelfConf_JLMS}; BakerBanaji~\cite{BakerBanaji_PolyFourierDecay}
for PolyFourierDecay or Compare part 1. with~\cite[Corollary 1.2 part
3.]{AlgomEtal_PointwiseNormalityFDecaySelfSonf_AdvMath21} and discussion afterwards!}

Let us return to the discussion of the dimension drop conjecture. Recall
that the ESC implies that the IFS has no exact overlaps. For some time it was an important open
problem whether there exists a self-similar IFS which has no exact overlaps but has super
exponential condensation. Independently of each other, using different methods,
Baker~\cite{Baker_SuperExpCloseIFS_AdvMath} and
B\'ar\'any--K\"{a}enm\"{a}ki~\cite{BaranyKaenmaki_SuperExpCLoseIFS} showed that such examples do
exist. The idea of Baker was further developed in~\cite{Baker_SuperExpCloseIFS2_ProcAMS}
and~\cite{Chen_SuperExpNoExactOVerlapExample}. It follows from the work of
Rapaport~\cite{Rapaport_ExactOverlapsAlgebraicContr} that the examples
in~\cite{Baker_SuperExpCloseIFS_AdvMath, Baker_SuperExpCloseIFS2_ProcAMS,
Chen_SuperExpNoExactOVerlapExample} further support the dimension drop conjecture. It is not known
whether the example of B\'ar\'any and K\"{a}enm\"{a}ki disproves the conjecture or not. It is
natural to ask whether analytic IFSs exist which have super-exponential condensation but no exact
overlaps. We conjecture that only if the IFS is sub-conjugated to a self-similar IFS.

\begin{conjecture}
Any analytic IFS which has super-exponential condensation but no exact overlaps must be
sub-conjugated to a self-similar IFS.
\end{conjecture}






%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{The key idea: the dual IFS induce by analytic functions}\label{sec:DualIFSFull}
We assume throughout that the IFS $\Phi$ is \emph{uniformly contracting}, \ie there exist
$0<c_{\min} \leq c_{\max}<1$ such that 
\[
  c_{\min} < \inf\big\{ |f'(x)|:\, f\in\Phi, x\in[0,1] \big\} \leq \sup\big\{ |f'(x)|:\, f\in\Phi,
  x\in[0,1] \big\} < c_{\max}.
\]
We
believe this notion is of general interest in its own right.
We
Given an analytic IFS $\Phi=\{f_i\}_{i=1}^N$, we `lift' each map $f_i$ to an operator $F_i:
\mathcal{C}^{\omega}([0,1]) \to \mathcal{C}^{\omega}([0,1])$ acting on the space of analytic
functions by the formula
\begin{equation*}
	(F_i h)(x)\coloneqq f'_i(x)\cdot h(f_i(x)) + \frac{f''_i}{f'_i}(x).
\end{equation*}
We call $\Phi^*\coloneqq\{F_i\}_{i=1}^N$ the \emph{dual IFS} of $\Phi$. The operator $F_i$ can be
considered as a similarity map and $\Phi^*$ as self-similar IFS on this space. Indeed, $F_i$ is a
translation of the linear operator $h\mapsto f'_i(x)\cdot h(f_i(x))$. We argue
in~\cref{sec:DualIFSFull} that it has a well-defined attractor $\Lambda^*$ and prove some basic
properties of the dual IFS. With this interpretation the function $H_{\bi}(x)$ introduced
in~\cref{eq:H_i(x)} is an analog of the natural projection $\pi(\bi)$, furthermore,
Theorem~\ref{thm:main} can be restated in the following elegant form.
\begin{theorem}\label{thm:DualSSC}
An analytic IFS $\Phi$ satisfies the SESC if its dual IFS $\Phi^*$ satisfies the SSC (which is
formally defined in this setting in~\cref{def:SSCLiftedIFS}).
\end{theorem}
We believe that a systematic study of the dual IFS could assist in tackling other problems in the future as well.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Recall from the discussion in~?? that to any analytic IFS $\Phi=\{f_i\}_{i\in\Sigma_1}$ we can
associate to it its dual IFS $\Phi^*=\{F_i\}_{i\in\Sigma_1}$ by the formula
\begin{equation}\label{eq:LiftedIFS}
	(F_i h)(x)\coloneqq f'_i(x)\cdot h(f_i(x)) + \frac{f''_i}{f'_i}(x).
\end{equation}
Our objective now is to establish some basic properties about the dual IFS. Each $F_i$ is clearly a
contraction in the supremum norm since $\|F_ig-F_ih\|_{\infty}\leq \|f'_i\|_{\infty}\cdot
\|g-h\|_{\infty}$. For $\bi\in\Sigma_*$, an induction argument readily gives that the composition
$F_{\bi}h=F_{i_1}\circ\ldots\circ F_{i_{|\bi|}}h$ is equal to
\begin{equation}\label{eq:IteratesLiftedIFS}
	(F_{\bi}h)(x) = f_{\bi_{|\bi|}^1}'(x)\cdot h(f_{\bi_{|\bi|}^1}(x)) + \sum_{n=1}^{|\bi|}
	f'_{\bi_{n-1}^1}(x) \cdot 
	\frac{f''_{i_n}}{f'_{i_n}}(f_{\bi_{n-1}^1}(x)).
\end{equation}
Observe that for $h$ equal to the constant $0$ function, $(F_{\bi}0)(x)\equiv H_{\bi}(x)$ introduced
in~\cref{eq:H_i(x)}. This motivates us to call $H_{\bi}(x)$ the {\color{red} \emph{natural dual OR
dual natural projection??}.} We first justify calling $\Phi^*$ an IFS by showing that it has an
attractor. By convention, if $A\subset \mathcal{C}^{\omega}([0,1])$, then
\begin{equation*}
F_iA \coloneqq \{F_i h:\, h\in A\}.
\end{equation*}
\begin{lemma}\label{lem:ExistanceAttractor}
If $\Phi^*$ is the dual IFS of an analytic IFS $\Phi$, then there exists a unique, non-empty,
compact set $\Lambda^*\subset \mathcal{C}^{\omega}([0,1])$, which we call the \emph{attractor} of
$\Phi^*$, that satisfies
\begin{equation*}
\Lambda^*=\bigcup_{i\in\Sigma_1} F_i\Lambda^*,
\end{equation*} 
\end{lemma} 
\begin{proof}
{\color{red} WRITE PROOF. Hint: If we consider the $\varepsilon>0$ neighbourhood $V$ of $[0,1]$ on
the complex plane then the analytic maps on $V$ form a separable and complete metric space with
respect to the supremum distance. So Hutchinson~\cite{Hutchinson_Attractor_81} can be applied
directly...}
\end{proof}

{\color{red} Could maybe mention in a remark that IFSs on more general spaces have been studied,
perhaps this article could be cited: Applications of Fixed Point Theorems in the Theory of
Generalized IFS (Theorem 3.5). Bessenyei Mih\'aly  P\'enzes Evelin}

We next define cylinder sets. For two real numbers $a,b$, their convex hull is the interval
$\mathrm{conv}(a,b)=[\min\{a,b\},\max\{a,b\}]$. Slightly abusing notation, a constant
$k\in\mathbb{R}$ also denotes the constant function on $\mathcal{C}^{\omega}([0,1])$. A
\emph{cylinder set} on $\mathcal{C}^{\omega}([0,1])$ is given by 
$$(k,K)\coloneqq \big\{g\in\mathcal{C}^{\omega}([0,1]):\, k<g(x)<K\big\}.$$
Since each $F_i$ is contraction, there exists $k<K$ such that
\begin{equation*}
	k<\min_{i\in\Sigma_1} \{\min_{x\in[0,1]}(F_ik)(x), \min_{x\in[0,1]}(F_iK)(x)\} \;\text{ and
	}\; K>\max_{i\in\Sigma_1} \{\max_{x\in[0,1]}(F_ik)(x), \max_{x\in[0,1]}(F_iK)(x)\},
\end{equation*} 
moreover, $F_i(\overline{(k,K)})\subseteq (k,K)^{\circ}$ for every $i=1,\ldots,N$. {\color{red}why
$\circ$? is $(k,K)$ already open?} The image of any cylinder $(k,K)$ under $F_{\bi}$ for any
$\bi\in\Sigma_*$ has {\color{red}width/height}
\begin{equation*}
	\max_{x\in[0,1]} |f'_{\bi}(x)|\cdot (K-k) < c_{\max}^{|\bi|} (K-k).
\end{equation*}
We say that two cylinder sets $ F_{\bi}(k,K)$ and $F_{\bj}(k,K)$ are \emph{disjoint}, which we
denote by $F_{\bi}(k,K)\cap F_{\bj}(k,K)=\varnothing$, if there exists $x\in[0,1]$ such that
\begin{equation}\label{eq:DisjointCylinders}
	\mathrm{conv}\big((F_{\bi}k)(x), (F_{\bi}K)(x)\big) \cap \mathrm{conv}\big((F_{\bj}k)(x),
	(F_{\bj}K)(x)\big)= \varnothing.
\end{equation}
If they are not disjoint, we write $F_{\bi}(k,K)\cap F_{\bj}(k,K)\neq\varnothing$.
See~\cref{fig:Cylinders} {\color{red}??} for an illustration.

\begin{figure}[h]\label{fig:Cylinders}
\includegraphics[width=\linewidth]{FigureTikz.pdf}
\caption{Illustration of disjoint cylinders on the left and ones which are not disjoint on the right.}
\end{figure}

\begin{definition}\label{def:SSCLiftedIFS}
We say that the attractor $\Lambda^*$ of a dual IFS $\Phi^*$ satisfies the \emph{strong separation
condition (SSC)} if $F_i\Lambda^*\cap F_j\Lambda^*=\varnothing$ for every $i\neq j$ in $\Sigma_1$,
\emph{i.e.} there is no $h\in\Lambda^*$ such that $h\in F_i\Lambda^*$ and $h\in F_j\Lambda^*$.
\end{definition}

\begin{lemma}\label{lem:SSCEequiv}
For the attractor $\Lambda^*$ of a dual IFS $\Phi^*$ to satisfy the SSC it is equivalent to either of the following: 
\begin{enumerate}[a)]
\item there exists $n\geq1$ such that for every $\bi,\bj\in\Sigma_n$  with $i_1\neq j_1$ we have
\begin{equation*}
	F_{\bi}(k,K)\cap F_{\bj}(k,K)=\varnothing. 
\end{equation*}
\item there exists $\delta>0$ such that for all distinct $\bi,\bj \in\Sigma$ we have
  $\sup_{x\in[0,1]} |H_{\bi}(x) - H_{\bj}(x)| > \delta$.
\item there exists $\delta>0$ such that for all distinct $\bi,\bj \in\Sigma_*$ we have
  $\sup_{x\in[0,1]} |H_{\bi}(x) - H_{\bj}(x)| > \delta$.
\end{enumerate}
\end{lemma}
\begin{proof}
  {\color{red}Write proof. Only necessary to be complete \& separable. We should remark in the
  beginning that analytic systems have these properties but that Polish is the only thing necessary
here. Last point should be also including finite words. Show that 2 and 3 are equivalent directly.
b to c through periodic words.}
\end{proof}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Properties of the natural dual projection \texorpdfstring{$H_{\bi}$}{H}}

The following is further justification to call $H_{\bi}$ the {\color{red}natural dual OR dual natural} projection.
\begin{proposition}\label{thm:H_iAnalytic}
$H_{\bi}$ is analytic on $I_{\eps}$, moreover, $\Lambda^*=\{H_{\bi}(x):\, \bi\in\Sigma\}$.
\end{proposition}
\begin{proof}
There exists an open bounded complex neighbourhood $U \supseteq I$ such that
$z\mapsto f_j(z)$ is analytic on $U$ and $c_{\min}<|f_j'(z)|<c_{\max}$ for all $z\in U$ and $j\in\Sigma_1$.
Hence $f_j(U) \subseteq U$ and
\[
\frac{f_j''}{f_j'},\quad f_{\bi}, \quad\text{and} \quad f'_{\bi}
\]
are analytic on $U$ for all $\bi\in\Sigma_*$ and $j\in\Sigma_1$.
Since there exists $C>0$ such that
\[
\left|\frac{f_j''}{f_j'}\right| \leq C
\]
for all $j\in\Sigma_1$ and $z\in U$, we conclude that $H_{\bi|_n}$ is analytic on $U$ for
all $\bi\in\Sigma$ and $n\in\bbN$. Further $H_{\bi|_n}$ converges uniformly to $H_{\bi}$ on $U$
and $H_{\bi}$ is analytic on $U$ by Morera's theorem~\cite[Theorem 10.17]{Rudin_AnalysisBook}.

{\color{red} Prove $\Lambda^*=\{H_{\bi}(x):\, \bi\in\Sigma\}$. A compactness argument should suffice
for convergence of infinite words.}
\end{proof}

After establishing that $H_{\bi}$ is analytic, we wish to obtain bounds on its derivatives. To
simplify notation we write $f^{(k)}$ to refer to the $k$-th derivative of $f$. 
For any $\bi\in\Sigma_*$, using the chain rule we get $f_{\bi_{|\bi|}^1}'(x)=
\prod_{n=1}^{|\bi|}f_{i_n}'(f_{\bi_{n-1}^1}(x))$. From here, a simple calculation yields %now shows
that for every finite word $\bi\in\Sigma_*$, $H_{\bi}$ reduces to
\begin{equation}\label{eq:H=f''/f'}
H_{\bi}(x)=H_{\bi_1^{|\bi|}}(x) = \frac{f''_{\bi_{|\bi|}^1}(x)}{f'_{\bi_{|\bi|}^1}(x)}.
\end{equation}
Another way of writing $H_{\bi}$ for $\bi\in\Sigma\cup\Sigma_*$ is
\begin{equation}
	H_{\bi}(x) = \sum_{n=1}^{|\bi|} (\phi_{i_n}\circ f_{\bi_{n-1}^1})'(x),
	\label{eq:alternativeH}
\end{equation}
where $\phi_{i_k}(x)\coloneqq \log|f'_{i_k}(x)|$. Recall that the $k$-th derivative of the
composition of two functions can be calculated using Fa\`a di Bruno's formula:
\begin{equation}\label{eq:FaaDiBruno}
(f\circ g)^{(k)}(x) = \sum_{\pi\in \Pi_k} f^{(|\pi|)}(g(x)) \cdot \prod_{B\in\pi}
g^{(|B|)}(x),
\end{equation}
where $\Pi_k$ is the set of all partitions of $\{1,\dots,k\}$, and $B\in \pi$ refers to the
elements, or blocks, of the partition $\pi$. Finally, let $g_k:\bbR^k\to \bbR$ be a $k$-variable
polynomial such that $g_1(y_1)=y_1$ and the next one is given by the formula
\[
g_{k+1}(y_{k+1},\dots,y_1)\coloneqq \sum_{\ell=1}^k \frac{\partial g_k}{\partial
y_{\ell}}(y_k,\dots,y_1)\cdot y_{\ell+1} +
g_k(y_k,\dots,y_1)\cdot y_1.
\]
In particular, $g_2(y_2,y_1)=y_2+y_1^2$, $g_3(y_3,y_2,y_1) = y_3+3y_1y_2+y_1^3$ and so on. We are
now ready to give a formula for $H_{\bi}^{(k)}$.


\begin{lemma}
\label{thm:ugly}
For any $\bi\in\Sigma\cup\Sigma_*$, the $k$-th derivative of $H_{\bi}$ is given by
\[
H_{\bi}^{(k)}(x)
=\sum_{\pi\in\Pi_{k+1}} \sum_{n=1}^{|\bi|} \phi_{i_n}^{(|\pi|)}(f_{\bi_{n-1}^1}(x))\cdot
(f'_{\bi_{n-1}^1}(x))^{|\pi|}\cdot \prod_{B\in\pi}
g_{|B|-1}\big(H_{\bi_1^{n-1}}^{(|B|-2)}(x),\dots,H_{\bi_1^{n-1}}(x)\big).
\]
\end{lemma}
\begin{proof}
We first show by induction that for any $\bi\in\Sigma_*$,
\begin{equation}
	\label{eq:fandg}
	\frac{f_{\bi_{|\bi|}^1}^{(k)}(x)}{f_{\bi_{|\bi|}^1}'(x)}
	=
	g_{k-1}\big(H_{\bi}^{(k-2)}(x), \dots, H_{\bi}(x)\big).
\end{equation}
Indeed, for $k=2$ \cref{eq:fandg} is the same as~\cref{eq:H=f''/f'}. Differentiating both sides
of~\cref{eq:fandg} we get
\[
\frac{f_{\bi_{|\bi|}^1}^{(k+1)}(x)}{f_{\bi_{|\bi|}^1}'(x)} -
\frac{f_{\bi_{|\bi|}^1}^{(k)}(x)}{f_{\bi_{|\bi|}^1}'(x)}\cdot
\frac{f_{\bi_{|\bi|}^1}''(x)}{f_{\bi_{|\bi|}^1}'(x)}
=\sum_{\ell=0}^{k-2}\frac{\partial g_{k-1}}{\partial
y_{\ell}}\big(H_{\bi}^{(k-2)},\dots,H_{\bi}(x)\big) \cdot H_{\bi}^{(l+1)}(x).
\]
In the second term on the left hand side we use the induction hypothesis~\cref{eq:fandg} for $k$
and~\cref{eq:H=f''/f'} to see that
\[
\frac{f_{\bi_{|\bi|}^1}^{(k)}(x)}{f_{\bi_{|\bi|}^1}'(x)}\cdot \frac{f_{\bi_{|\bi|}^1}''(x)}{f_{\bi_{|\bi|}^1}'(x)}
=g_{k-1}(H_{\bi}^{(k-2)}(x),\dots, H_{\bi}(x)) \cdot H_{\bi}(x).
\]
Substituting this back, after rearranging the inductive step is proved for $k+1$: 
\begin{align*}
\frac{f_{\bi_{|\bi|}^1}^{(k+1)}(x)}{f_{\bi_{|\bi|}^1}'(x)}
&=
g_{k-1}(H_{\bi}^{(k-2)}(x),\dots, H_{\bi}(x)) \cdot H_{\bi}(x)
+
\sum_{\ell=0}^{k-2}\frac{\partial g_{k-1}}{\partial
y_{\ell}}\big(H_{\bi}^{(k-2)},\dots,H_{\bi}(x)\big) \cdot H_{\bi}^{(l+1)}(x)
\\
&=
g_{k}(H_{\bi}^{(k-1)}(x), \dots, H_{\bi}(x)).
\end{align*}
We can now derive the formula for $H_{\bi}^{(k)}$:
\begin{align*}
H_{\bi}^{(k)}(x)
&\stackrel{\eqref{eq:alternativeH}}{=}\sum_{n=1}^{|\bi|} (\phi_{i_n}\circ f_{\bi_{n-1}^1})^{(k+1)}(x) \\
&\stackrel{\eqref{eq:FaaDiBruno}}{=}\sum_{\pi\in\Pi_{k+1}} \sum_{n=1}^{|\bi|}
\phi_{i_n}^{(|\pi|)}(f_{\bi_{n-1}^1}(x))\cdot
\prod_{B\in\pi} f_{\bi_{n-1}^1}^{(|B|)}(x) \\
&\stackrel{\eqref{eq:fandg}}{=}\sum_{\pi\in\Pi_{k+1}} \sum_{n=1}^{|\bi|}
\phi_{i_n}^{(|\pi|)}(f_{\bi_{n-1}^1}(x))\cdot
(f'_{\bi_{n-1}^1}(x))^{|\pi|} \cdot \prod_{B\in\pi}
g_{|B|-1}\big(H_{\bi_1^{n-1}}^{(|B|-2)}(x),\dots,H_{\bi_1^{n-1}}(x)\big).
\end{align*}
\end{proof}

\begin{lemma}\label{thm:kbound}
For every integer $k\geq 0$ there exists $C_k$ such that for all $x\in I$ and all
$\bi\in\Sigma\cup\Sigma_*$,
\[
\big|H_{\bi}^{(k)}(x)\big|\leq C_k.
\]
\end{lemma}
\begin{proof}
The proof goes by induction. Let
\[
D_k:=\max_{i\in\Sigma_1}\max_{x\in[0,1]} |\phi_i^{(k)}(x)|.
\]
From~\cref{eq:alternativeH} we see that
$|H_{\bi}(x)| \leq D_1/(1-c_{\max})=:C_0$.
Suppose that the statement is true for $k$ and define
\begin{equation}\label{eq:E_k}
E_k:= \sup_{\substack{y_{j+1}\in[-C_j,C_j]\\0\,\leq\, j \,\leq\, k-1}}g_k(y_k,\dots,y_1).
\end{equation}
By \cref{thm:ugly},
\[
\big|H_{\bi}^{(k)}(x)\big| \leq \sum_{\pi\in\Pi_{k+1}}\sum_{n=1}^{|\bi|} D_{|\pi|} \cdot
c_{\max}^{(n-1)|\pi|} \cdot \prod_{B\in\pi}
E_{|B|-1}
= \sum_{\pi\in\Pi_{k+1}} \frac{D_{|\pi|}\cdot \prod_{B\in\pi}E_{|B|-1}}{1-c_{\max}^{|\pi|}}
\]
and the statement follows.
\end{proof}
\begin{corollary}
\label{thm:difcor}
For all $k\geq 1$, for all $x,y\in I$ and for all $\bi\in\Sigma\cup\Sigma_*$,
\[
\big|H_{\bi}^{(k)}(x) - H_{\bi}^{(k)}(y)\big| \leq C_{k+1}\cdot |x-y|.
\]
\end{corollary}
We show the following useful H\"older type bound. For $\bi\neq\bj\in\Sigma\cup\Sigma_*$ we write $\bi\wedge\bj$
to denote the longest $\mathbf{k}\in\Sigma_*$ such that $\mathbf{k} = (i_1,\dots,
i_{|\mathbf{k}|})=(j_1,\dots,j_{|\mathbf{k}|})$.
\begin{lemma}\label{thm:difbound}
For all integers $k\geq 0$, $x\in I$ and $\bi,\bj\in\Sigma\cup\Sigma_*$ with
$|\bi\wedge\bj|<\min\{|\bi|,|\bj|\}$,
\[
\big|H_{\bi}^{(k)}(x) - H_{\bj}^{(k)}(x)\big| \leq 2C_k\cdot c_{\max}^{|\bi\wedge\bj|},
\]
where $C_k>0$ are as defined in \cref{thm:kbound}. 
\end{lemma}
\begin{proof}
Let $m = |\bi\wedge\bj|$. Again, by \cref{thm:ugly,thm:kbound},
\begin{align*}
	&|H_{\bi}^{(k)}(x) - H_{\bj}^{(k)}(x)|
	\\
	&=
	\left|
	\sum_{\pi\in\Pi_{k+1}} \sum_{n=m+1}^{|\bi|} \phi_{i_n}^{(|\pi|)}(f_{\bi_{n-1}^1}(x))\cdot 
	(f'_{\bi_{n-1}^1}(x))^{|\pi|} \cdot
	\prod_{B\in\pi} g_{|B|-1}\big(H_{\bi_1^{n-1}}^{(|B|-2)}(x),\dots,H_{\bi_1^{n-1}}(x)\big)
	\right.
	\\
	&
	\left.\;\; -
	\sum_{\pi\in\Pi_{k+1}} \sum_{n=m+1}^{|\bj|} \phi_{j_n}^{(|\pi|)}(f_{\bj_{n-1}^1}(x))\cdot
	(f'_{\bj_{n-1}^1}(x))^{|\pi|} \cdot
	\prod_{B\in\pi} g_{|B|-1}\big(H_{\bj_1^{n-1}}^{(|B|-2)}(x),\dots,H_{\bj_1^{n-1}}(x)\big)
	\right|\\
	&\leq
	\sum_{\pi\in\Pi_{k+1}}\sum_{n=m+1}^\infty 2D_{|\pi|}\cdot c_{\max}^{n|\pi|} \cdot
	\prod_{B\in\pi} E_{|B|-1}
	\leq 2 C_{k}\cdot c_{\max}^m.
	\qedhere
\end{align*}
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Proof of~\cref{thm:main}}\label{sec:ProofSufficientCond}

We need one auxiliary lemma before we can proceed with the proof of~\cref{thm:main}.

\begin{lemma}\label{thm:analyticity}
Let $f$ and $g$ be real analytic maps on $J$
and let $\eta>0$ with $2\sqrt{\eta}<|J|$.
Denote
 \[
   Q \coloneqq \max\left\{\sup_{x\in J} |f''(x)|,\, \sup_{x\in J}|g''(x)|\right\}.
 \]
If $\sup_{x\in J} |f(x)-g(x)| \leq \eta$, then $\sup_{x\in J} |f'(x)-g'(x)|\leq (2+Q)\sqrt{\eta}$.
\end{lemma}
\begin{proof}
Let $x\in J$ be arbitrary and take $y\in J$ such that $|x-y|=\sqrt{\eta}$. By assumption
$\max\{|f(x)-g(x)|,|f(y)-g(y)|\}\leq \eta$. Using the second order Taylor approximation 
\[
  f(y) = f(x) + f'(x)(y-x)+ \frac{f''(\xi_1)}{2}(y-x)^2,
\]
where $\xi_1\in(x,y)$, and similarly for $g(y)$ around $x$ we get
\begin{align*}
  \eta &\geq |f(y)-g(y)| =
  \left|f(x)-g(x)+(f'(x)-g'(x))(y-x)+(f''(\xi_1)-g''(\xi_2))\frac{(y-x)^2}{2}\right|\\
 &\geq |f'(x)-g'(x)|\cdot|y-x|-|f(x)-g(x)|-(|f''(\xi_1)|+|g''(\xi_2)|)\frac{(y-x)^2}{2}.
\end{align*}
  Thus,
  \[
    |f'(x)-g'(x)| \leq \frac{\eta+\eta+Q \eta}{\sqrt{\eta}} = (2+Q)\sqrt{\eta}
  \]
  as required.
\end{proof}


\begin{proof}[Proof of~\cref{thm:main}]
We prove the theorem by contradiction. Recall~\cref{def:SeparationConds} and suppose that $\Phi$ has
super-exponential condensation, \emph{i.e.} there exists a sequence $(\eta_n)_n$ such that
$\log(\eta_n)/n\to-\infty$ and there exist a subsequence $n_{\ell}\in\bbN$ and
$\bi\neq\bj\in\Sigma_{n_\ell}$ such that
\begin{equation}\label{eq:ExpCondensation}
  \sup_{x\in[0,1]}|f_{\bi}(x)-f_{\bj}(x)| \leq \eta_{n_\ell}.
\end{equation}
We need to show that there exist $\bi^*\neq\bj^*\in\Sigma\cup\Sigma_*$ for which $H_{\bi^*}(x)\equiv
H_{\bj^*}(x)$ for all $x\in[0,1]$ contradicting our main assumption. For the remainder of the proof
we work with the sequence $\eta_{n_{\ell}}$ and $\bi\neq\bj\in\Sigma_{n_\ell}$ provided
by~\cref{eq:ExpCondensation}. Let $m=m(n_{\ell})\coloneqq\max\{k\leq n_{\ell}:\, i_k\neq j_k\}$ and
$\bu^{(n_{\ell})}\coloneqq \bi_{m+1}^{n_{\ell}}\in\Sigma_{n_\ell-m}$, then
$\bj=\bj_1^m\bu^{(n_{\ell})}$. Let us also denote $\bi^{(n_{\ell})}\coloneqq\bi_m^1\in\Sigma_m$ and
$\bj^{(n_{\ell})}\coloneqq\bj_m^1\in\Sigma_m$, so $(\bi^{(n_{\ell})})_1\neq (\bj^{(n_{\ell})})_1$.
We first show that there exists a sequence $\eta_{n_{\ell}}''$ with
$\log(\eta_{n_{\ell}}'')/n_{\ell}\to-\infty$ such that for every $x\in I$,
\begin{equation}\label{eq:DiffH_iSUperExp}
|H_{\bi^{(n_\ell)}}(f_{\bu^{(n_\ell)}}(x)) - H_{\bj^{(n_\ell)}}(f_{\bu^{(n_\ell)}}(x))| \leq \eta''_{n_\ell}.
\end{equation}

For any $\bi\in\Sigma_*$, recall from~\cref{eq:H=f''/f'} that
\begin{equation*}
	H_{\bi}(x)= \frac{f''_{\bi_{|\bi|}^1}(x)}{f'_{\bi_{|\bi|}^1}(x)} \;\;\text{ or equivalently,
	}\;\; H_{\bi_{|\bi|}^1}(x) = \frac{f''_{\bi}(x)}{f'_{\bi}(x)}.
\end{equation*}
Using~\eqref{eq:fandg}, we get that
\begin{equation*}
 |f_{\bi}''(x)| = \big|H_{\bi_{|\bi|}^1}(x)\cdot f_{\bi}'(x)\big|\leq C_0 \cdot c_{\max}^{|\bi|}
\end{equation*}
by \cref{thm:kbound}, moreover,
\begin{equation*}
  |f_{\bi}'''(x)| = \big|g_2(H_{\bi_{|\bi|}^1}'(x),H_{\bi_{|\bi|}^1}(x))\cdot f_{\bi}'(x)\big| \leq
  E_2\cdot c_{\max}^{|\bi|}
\end{equation*}
by the definition of $E_k$ in~\cref{eq:E_k}. These together with~\cref{thm:analyticity} imply that
for the particular choice of $\bi,\bj$ in~\cref{eq:ExpCondensation} we have the bounds
\begin{align*}
 \sup_{x\in[0,1]}|f_{\bi}'(x) - f_{\bj}'(x)| &\leq (2+C_0 c_{\max}^{n_\ell})\sqrt{\eta_{n_\ell}}; \\
 \sup_{x\in[0,1]}|f_{\bi}''(x) - f_{\bj}''(x)| &\leq (2+E_2c_{\max}^{n_\ell})\sqrt{2+C_0
 	c_{\max}^{n_\ell}}\cdot
 \eta_{n_\ell}^{1/4},
\end{align*}
which can be used to deduce
\begin{align*}
	\left|\frac{f_{\bi}''(x)}{f_{\bi}'(x)} - \frac{f_{\bj}''(x)}{f_{\bj}'(x)}\right|
	&\leq
	\frac{|f_{\bi}''(x)|}{|f_{\bi}'(x)||f_{\bj}'(x)|}\cdot|f_{\bi}'(x) - f_{\bj}'(x)|
	+\frac{1}{|f'_{\bj}(x)|} \cdot |f_{\bi}''(x) - f_{\bj}''(x)|
	\\
	&
	\leq \frac{C_0}{c_{\min}^{n_\ell}}(2+C_0c_{\max}^{n_\ell})\cdot \eta_{n_\ell}^{1/2}
	+\frac{1}{c_{\min}^{n_\ell}}(2+E_2
	c_{\max}^{n_\ell})\sqrt{2+C_0 c_{\max}^{n_\ell}} \cdot \eta_{n_\ell}^{1/4} \;=:\;\eta_{n_\ell}'.
\end{align*}
Now observe that
\begin{equation*}
H_{\bi_{n_{\ell}}^1}(x) = \frac{(f_{\bi_1^m}\circ f_{\bu^{(n_{\ell})}})''(x)}{(f_{\bi_1^m}\circ
f_{\bu^{(n_{\ell})}})'(x)} = 
f'_{\bu^{(n_{\ell})}}(x) \cdot H_{\bi^{(n_{\ell})}} \big(f_{\bu^{(n_{\ell})}}(x)\big) + \frac{
f''_{\bu^{(n_{\ell})}}(x) }{ f'_{\bu^{(n_{\ell})}}(x)},
\end{equation*}
hence, $H_{\bi_{n_{\ell}}^1}(x)-H_{\bj_{n_{\ell}}^1}(x) = f'_{\bu^{(n_{\ell})}}(x) \cdot \big(
H_{\bi^{(n_{\ell})}} \big(f_{\bu^{(n_{\ell})}}(x)\big) -H_{\bj^{(n_{\ell})}}
\big(f_{\bu^{(n_{\ell})}}(x)\big) \big)$, so we can conclude
\[
\big| H_{\bi^{(n_{\ell})}} \big(f_{\bu^{(n_{\ell})}}(x)\big) -H_{\bj^{(n_{\ell})}}
\big(f_{\bu^{(n_{\ell})}}(x)\big) \big|
 \leq
 \frac{\big|H_{\bi_{n_{\ell}}^1}(x)-H_{\bj_{n_{\ell}}^1}(x)\big|}{\big|f'_{\bu^{(n_{\ell})}}(x)\big|}
 \leq c_{\min}^{-{n_\ell}}
\cdot \eta_{n_\ell}'
=:\eta_{n_\ell}''.
\]

Having established~\cref{eq:DiffH_iSUperExp}, there are two cases to consider: whether
$|\bu^{(n_\ell)}| \to \infty$ or there exists a constant $C>0$ and infinitely many $\ell$ such that
$|\bu^{(n_\ell)}| \leq C$. Let us first assume the latter. Since $|\bi^{(n_\ell)}|+ |\bu^{(n_\ell)}|
= |\bj^{(n_\ell)}|+|\bu^{(n_\ell)}| = n_\ell$ we conclude, by compactness, that
there exists a subsequence $n_\ell'$ such that $\bi^{(n_\ell')} \to \bi^*\in\Sigma$,
$\bj^{(n_\ell')}\to\bj^*\in\Sigma$ and $\bu^{(n_\ell')}=\bu^*\in\Sigma_*$ with $i_1^*\neq j_1^*$.
It follows from~\cref{thm:difbound} and~\cref{eq:DiffH_iSUperExp} that
$
  H_{\bi^*}(f_{\bu^*}(x))\equiv H_{\bj^*}(f_{\bu^*}(x))
$
for all $x\in I$.  Hence, using the analyticity of $H_{\bi}$ from~\cref{thm:H_iAnalytic} we conclude
that $H_{\bi^*}(x) \equiv H_{\bj^*}(x)$ for all $x\in I$ which contradicts the main assumption.

Now let us assume that $|\bu^{(n_\ell)}| \to \infty$. Again by compactness, there exists
$\bu^*\in\Sigma$ as well as $\bi^*,\bj^*\in\Sigma\cup\Sigma_*$ {\color{red} with both $|\bi^*|$ and
$|\bj^*|$ either finite or infinite} and a
subsequence $n_\ell'$ such that $\bi^{(n_\ell')}\to \bi^*$ and $\bj^{(n_\ell')}\to \bj^*$ with
$i_1^*\neq j_1^*$ as well as $f_{\bu^{(n_\ell')}}(x) \to \pi(\bu^*)$ for all $x\in[0,1]$.  Combining
\cref{thm:analyticity} and \cref{thm:kbound} with~\cref{eq:DiffH_iSUperExp}, we deduce that for all
$k$ there
exists $\widetilde{C}_k>0$ such that for all $\ell\geq 1$ we have
\begin{equation}\label{eq:H_i^(k)Diff}
  \big|H_{\bi^{(n_\ell)}}^{(k)}(f_{\bu^{(n_\ell)}}(x)) - H_{\bj^{(n_\ell)}}^{(k)}(f_{\bu^{(n_\ell)}}(x))\big|
  \leq \widetilde{C}_k \cdot
  \frac{1}{(f'_{\bu^{(n_\ell)}}(x))^k}\cdot\left(\eta_{n_\ell}''\right)^{2^{-k}}\leq\widetilde{C}_k
  \cdot \frac{1}{c_{\min}^{k n_\ell}}\cdot\left(\eta_{n_\ell}''\right)^{2^{-k}}
\end{equation}
for all $x\in[0,1]$ which still tends to $0$ as $\ell\to\infty$ since $\eta_{n_{\ell}}''\to 0$
super-exponentially fast. Combining~\cref{thm:difcor} and~\cref{thm:difbound}
with~\cref{eq:H_i^(k)Diff} we see that $H_{\bi^*}^{(k)}(\pi(\bu^*))=H_{\bj^*}^{(k)}(\pi(\bu^*))$ for
all $k$.
Since $H_{\bi^*}$ and $H_{\bj^*}$ are analytic by~\cref{thm:H_iAnalytic}, we get that
$H_{\bi^*}(x)\equiv H_{\bj^*}(x)$ for all
$x\in[0,1]$ which again contradicts our main assumption, concluding the proof of~\cref{thm:main}. 
{\color{red} Invoke \cref{lem:SSCEequiv}}
\end{proof}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Proof of~\cref{thm:ESCOpenDense}}\label{sec:ProofESCOpenDense}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Preliminaries}

Fix an arbitrary $n\geq 1$. Let $\mathcal{B}_n\coloneqq\{(\bi,\bj)\in\Sigma_n\times\Sigma_n:\,
i_1<j_1\}$. We say that $(\bi,\bj)\in\mathcal{B}_n$ is bad if the cylinders
\begin{equation}\label{eq:DefBad}
F_{\bi}(k,K)\cap F_{\bj}(k,K)\neq\varnothing,
\end{equation}
recall~\cref{eq:DisjointCylinders}. For any $\bi\in\Sigma_*$ and $x\in[0,1]$ define the orbit of
$\bi$ starting from $x$ as the multiset $\mathcal{O}_{\bi}(x)\coloneqq \{x,f_{i_1}(x),
f_{\bi_2^1}(x),\ldots,f_{\bi_{|\bi|}^1}(x)\}$. 


\begin{lemma}\label{lem:Pointsx_ij}
If the IFS $\{f_i\}_{i=1}^N$ has no exact overlaps, then there exists a collection of points
$\{x_{\bi,\bj}\}_{(\bi,\bj)\in\mathcal{B}_n}\subseteq[0,1]$ such that
\begin{enumerate}[(a)]
\item $(F_{\bi}K)(x_{\bi,\bj}) < (F_{\bj}k)(x_{\bi,\bj})$ or $(F_{\bj}K)(x_{\bi,\bj}) <
  (F_{\bi}k)(x_{\bi,\bj})$ if $(\bi,\bj)$ is not bad;  
\item all points in $\mathcal{O}_{\bi}(x_{\bi,\bj})$ and also in $\mathcal{O}_{\bj}(x_{\bi,\bj})$
  are distinct, moreover,
  $\mathcal{O}_{\bi}(x_{\bi,\bj})\cap\mathcal{O}_{\bj}(x_{\bi,\bj})=\{x_{\bi,\bj}\}$;
\item $\big(\mathcal{O}_{\bi}(x_{\bi,\bj})\cup \mathcal{O}_{\bj}(x_{\bi,\bj})\big) \cap
  \big(\mathcal{O}_{\vec{h}}(x_{\vec{h},\vec{\ell}})\cup
  \mathcal{O}_{\vec{\ell}}\,(x_{\vec{h},\vec{\ell}})\big)=\varnothing$ for every $(\bi,\bj)\neq
  (\vec{h},\vec{\ell})\in\mathcal{B}_n$.
\end{enumerate} 
\end{lemma}

\begin{proof}{\color{red}Check proof!}
Order the elements of $\mathcal{B}_n$ by $(\bi^{(k)},\bj^{(k)})=(i_1^{(k)},\ldots,
i_n^{(k)};j_1^{(k)},\ldots,j_n^{(k)})$ with $k=1,\ldots,\#\mathcal{B}_n$. The points are constructed
inductively. If $(\bi^{(1)},\bj^{(1)})$ is not bad then by definition there exists an $\hat
x_{(\bi^{(1)},\bj^{(1)})}$ for which $(a)$ holds. Since $(a)$ is an open conditions, there exists an
$x_{(\bi^{(1)},\bj^{(1)})}$ in the neighborhood of $\hat x_{(\bi^{(1)},\bj^{(1)})}$ for which $(b)$
also holds. If this were not the case, then there would be $k,\ell$ such that
$f_{(\bi^{(1)})_{\ell}^1}(x)=f_{(\bi^{(1)})_{k}^1}(x)$ for infinitely many $x$, but then analyticity
implies that $f_{(\bi^{(1)})_{\ell}^1}(x)\equiv f_{(\bi^{(1)})_{k}^1}(x)$, which contradicts the no
exact overlaps assumption. If $(\bi^{(1)},\bj^{(1)})$ is bad, then choose
$x_{(\bi^{(1)},\bj^{(1)})}$ to satisfy $(b)$ (which is possible by the same argument). Thus we have
constructed the first point $x_{(\bi^{(1)},\bj^{(1)})}$. Condition $(c)$ trivially holds with just
the single pair $(\bi^{(1)},\bj^{(1)})$. 

We continue by induction. Assume that $x_{(\bi^{(1)},\bj^{(1)})},\ldots,x_{(\bi^{(k)},\bj^{(k)})}$
have already been constructed (for some $k\geq 1$) so that $(a),(b),(c)$ all hold. The set
$\bigcup_{m=1}^k \widehat{\mathcal{O}}(x_{(\bi^{(m)},\bj^{(m)})})$ is finite, where we use the
shorthand  $\widehat{\mathcal{O}}(x_{\bi,\bj})\coloneqq\big(\mathcal{O}_{\bi}(x_{\bi,\bj})\cup
\mathcal{O}_{\bj}(x_{\bi,\bj})\big)$. Then the set
\begin{equation*}
A_k\coloneqq \bigcup_{\ell=0}^n \bigg( \big(f_{(\bi^{(k+1)})_{\ell}^1}\big)^{-1} \Big(
\bigcup_{m=1}^k \widehat{\mathcal{O}}(x_{(\bi^{(m)},\bj^{(m)})}) \Big) \cup
\big(f_{(\bj^{(k+1)})_{\ell}^1}\big)^{-1} \Big( \bigcup_{m=1}^k
\widehat{\mathcal{O}}(x_{(\bi^{(m)},\bj^{(m)})}) \Big) \bigg)
\end{equation*}
is also finite since all $f_{\bi}$ are strictly monotone (for $\ell=0$ it is defined to be identity
map). By construction, any point $x\in[0,1]\setminus A_k$ chosen to be the next
$x_{(\bi^{(k+1)},\bj^{(k+1)})}$ automatically satisfies $(c)$. If $(\bi^{(k+1)},\bj^{(k+1)})$ is not
bad, then using that $A_k$ is finite choose $\hat x_{(\bi^{(k+1)},\bj^{(k+1)})}$ for which $(a)$
holds. By continuity of the maps, there exists a small neighborhood of $\hat
x_{(\bi^{(k+1)},\bj^{(k+1)})}$ where $(a)$ still holds and does not intersect $A_k$. The same
argument as before can be used to pick a $x_{(\bi^{(k+1)},\bj^{(k+1)})}$ from this small
neighborhood for which $(a),(b),(c)$ all hold. If $(\bi^{(k+1)},\bj^{(k+1)})$ is bad, then
analyticity and the no exact overlaps assumption imply again the existence of
$x_{(\bi^{(k+1)},\bj^{(k+1)})}\in[0,1]\setminus A_k$ that satisfies $(b)$ which completes the
induction. 
\end{proof}

\begin{proposition}\label{prop:AnalyticBumpFunc}
Assume $f\in \mathcal{C}^{\omega}([0,1])$ satisfies $f([0,1])\subset (0,1)$ and $0<|f'(x)|<1$ for
every $x$. Then there exists a constant $C>0$ such that for any two finite collection of points
$\mathcal{Y}=\{y_1<\ldots<y_M\}\subseteq[0,1]^M$ and $\mathcal{Z}=\{z_1<\ldots<
z_Q\}\subseteq[0,1]^Q$ with $\mathcal{Y}\cap\mathcal{Z}=\varnothing$ we have the following: for
every $\varepsilon>0$ and $\delta>0$ there exists an analytic function
$g\in\mathcal{C}^{\omega}([0,1])$ such that
\begin{enumerate}[(i)]
\item $g(z_i)=f(z_i)$ for every $z_i\in\mathcal{Z}$ and $g(y_i)=f(y_i)$ for every $y_i\in\mathcal{Y}$, moreover,
\begin{equation*}
\|g-f\|_{\infty}<\varepsilon;
\end{equation*}
\item  $g'(z_i)=f'(z_i)$ for every $z_i\in\mathcal{Z}$ and $g'(y_i)=f'(y_i)$ for every $y_i\in\mathcal{Y}$, moreover,
\begin{equation*}
	\|g'-f'\|_{\infty}<\varepsilon;
\end{equation*}
\item $g''(z_i)=f''(z_i)$ for every $z_i\in\mathcal{Z}$, however,
\begin{equation*}
	\left| \frac{g''(y_i)}{g'(y_i)} - \frac{f''(y_i)}{f'(y_i)} \right|\geq \delta \quad\text{
	for every } y_i\in\mathcal{Y},
\end{equation*}
nevertheless, $	\|g''-f''\|_{\infty}<C\cdot \delta +\varepsilon$.
\end{enumerate}
\end{proposition}

We may assume that $\mathcal{Y}\neq\varnothing$, otherwise there is nothing to prove. Our claim is
that with appropriate choices of $a_1,\ldots,a_M>0$ and $\eta_1\ldots,\eta_M>0$ the analytic
function
\begin{equation}\label{eq:BumpFunc}
g(x)\coloneqq f(x)\cdot e^{\varphi(x)\cdot \psi(x)\cdot A(x)},
\end{equation} 
where
\begin{equation*}
\varphi(x)=\prod_{y_i\in\mathcal{Y}} (x-y_i)^2,\; \psi(x) = \prod_{z_i\in\mathcal{Z}} (x-z_i)^4
\;\text{ and }\; A(x)= \sum_{i=1}^{M} a_i\cdot e^{\frac{-(x-y_i)^2}{\eta_i}}
\end{equation*}
satisfies the conditions of~\cref{prop:AnalyticBumpFunc}. We will often use the following simple fact.

\begin{lemma}
Let us fix constants $c, p, \varepsilon>0$ and $q> -p/2$. Then
\begin{equation}\label{eq:BoundA(x)}
\sup_{x\in\mathbb{R}} c\cdot \sigma^q\cdot |x|^p\cdot e^{\frac{-x^2}{\sigma}} \leq \varepsilon
\quad\text{ whenever } 0<\sigma \leq (2e/p)^{\frac{p}{2q+p}}\cdot (\varepsilon/c)^{\frac{1}{q+p/2}}.
%\left( \frac{p\cdot a}{2} \right)^{p/2} \cdot e^{\frac{-p}{2}} \;\text{ for every } p>0,
\end{equation}
\end{lemma}
\begin{proof}
It is easy to check that the global maximum of the function is at $x^2=p\sigma/2$. Substituting back
this value and using the upper bound on $\sigma$ gives the claim. 
\end{proof}

\begin{proof}[Proof of~\cref{prop:AnalyticBumpFunc}]
During the proof we suppress $\infty$ from the norm $\|\cdot\|_{\infty}$. The argument is
essentially a careful analysis of the function $g$ defined in~\cref{eq:BumpFunc}. Let us start by
calculating its derivatives
\begin{equation*}
	g'= f'\cdot e^{\varphi\cdot \psi\cdot A} + f\cdot e^{\varphi\cdot \psi\cdot A}\big(
	\varphi'\cdot \psi\cdot A + \varphi\cdot \psi'\cdot A +\varphi\cdot \psi\cdot A' \big),
\end{equation*}
where
\begin{align*}
	\varphi'(x)&= \sum_{i=1}^{M} 2(x-y_i) \prod_{y_j\in\mathcal{Y}\setminus\{y_i\}} (x-y_j)^2, \\
	\psi'(x)&= \sum_{i=1}^{Q} 4(x-z_i)^3 \prod_{z_j\in\mathcal{Z}\setminus\{z_i\}} (x-z_j)^4, \\
	A'(x)&= -2\cdot \sum_{i=1}^{M} a_i \frac{x-y_i}{\eta_i} e^{\frac{-(x-y_i)^2}{\eta_i}},
\end{align*}
moreover,
\begin{multline*}%\label{eq:gSecondDerivative}
	g'' = f''  e^{\varphi \psi A} + 2f'e^{\varphi \psi A}\big( \varphi' \psi A + \varphi \psi' A
	+\varphi \psi A' \big) + f e^{\varphi \psi A}\big( \varphi' \psi A + \varphi \psi' A
	+\varphi \psi A' \big)^2 \\
	+ f e^{\varphi \psi A}\big( \varphi'' \psi A + \varphi \psi'' A +\varphi \psi A'' +2\varphi'
	\psi' A + 2\varphi' \psi A' +2\varphi \psi' A'\big),
\end{multline*}
where
\begin{align*}
	\varphi''(x)&= 2\sum_{i=1}^{M}  \prod_{\substack{y_j\in\mathcal{Y}\\ y_j\neq y_i}}
	(x-y_j)^2+ 4\sum_{i=1}^{M} (x-y_i) \sum_{\substack{k=1\\k\neq i}}^{M} (x-y_k)
	\prod_{\substack{y_j\in\mathcal{Y} \\ y_j\notin\{y_i,y_k\}}} (x-y_j)^2, \\
	\psi''(x)&= 12\sum_{i=1}^{Q} (x-z_i)^2 \prod_{\substack{z_j\in\mathcal{Z} \\ z_j\neq z_i}}
	(x-z_j)^4 + 16\sum_{i=1}^{Q} (x-z_i)^3 \sum_{\substack{k=1\\k\neq i}}^{Q} (x-z_k)^3
	\prod_{\substack{z_j\in\mathcal{Z} \\ z_j\notin \{z_i,z_k\}}} (x-z_j)^4,  \\
	A''(x)&= 2\cdot \sum_{i=1}^{M} a_i \Big( \frac{2(x-y_i)^2}{\eta_i^2} -\frac{1}{\eta_i} \Big)
	e^{\frac{-(x-y_i)^2}{\eta_i}}. 
\end{align*}
By construction $\varphi(y_i) = \varphi'(y_i) =0$ for every $ y_i\in\mathcal{Y}$ and $\psi(z_i) =
\psi'(z_i) = \psi''(z_i)=0$ for every $z_i\in\mathcal{Z}$, hence,
\begin{equation*}
	g(y_i)=f(y_i) \text{ and } g'(y_i)=f'(y_i) \text{ for every } y_i\in\mathcal{Y},
\end{equation*}
furthermore,
\begin{equation*}
	g(z_i)=f(z_i),\, g'(z_i)=f'(z_i) \,\text{ and } g''(z_i)=f''(z_i) \;\text{ for every } z_i\in\mathcal{Z}.
\end{equation*}
Since $\varphi''(y_i)\neq 0$, let us evaluate
\begin{align*}
	g''(y_i) &= f''(y_i) + f(y_i)\varphi''(y_i)\psi(y_i)A(y_i) \\
	&=  f''(y_i) + 2f(y_i) \prod_{\substack{y_j\in\mathcal{Y}\\ y_j\neq y_i}} (y_i-y_j)^2
	\prod_{z_j\in\mathcal{Z}} (y_i-z_j)^4 \bigg( a_i+ \sum_{\substack{j=1 \\ j\neq i}}^{M}
	a_j\cdot e^{\frac{-(y_i-y_j)^2}{\eta_j}} \bigg).
\end{align*}
Dividing both sides by $f'(y_i)=g'(y_i)$ and rearranging we get
\begin{equation*}
	\left| \frac{g''(y_i)}{g'(y_i)} - \frac{f''(y_i)}{f'(y_i)} \right|\geq 2a_i\cdot
	\frac{|f(y_i)|}{|f'(y_i)|}\prod_{y_j\in\mathcal{Y}\setminus\{y_i\}} (y_i-y_j)^2
	\prod_{z_j\in\mathcal{Z}} (y_i-z_j)^4 \geq \delta
\end{equation*}
for all $y_i\in\mathcal{Y}$ as required if we choose
\begin{equation}\label{eq:a_iChoice}
	a_i \coloneqq \frac{\delta \cdot |f'(y_i)|}{2  \cdot |f(y_i)|}
	\Big(\prod_{y_j\in\mathcal{Y}\setminus\{y_i\}} (y_i - y_j)^2 \cdot \prod_{z_j\in\mathcal{Z}}
	(y_i - z_j)^4 \Big)^{-1}.
\end{equation}

It remains to bound the norms $\|g-f\|$, $\|g'-f'\|$ and $\|g''-f''\|$. Using that $|x-z_i|\leq 1$,
we have the trivial bounds
\begin{equation*}
\|\psi\| \leq 1, \quad \|\psi'\| \leq 4Q \quad\text{ and }\quad  \|\psi''\| \leq 16Q^2+12Q.
\end{equation*}
Similarly, using that $|x-y_i|\leq 1$, we also have
\begin{equation*}
\|\varphi\| \leq \min_{y_i\in\mathcal{Y}} |x-y_i|^2, \quad \|\varphi'\| \leq
2M\cdot\min_{y_i\in\mathcal{Y}} |x-y_i|  
\end{equation*} 
and
\begin{equation*}
\|\varphi''\| \leq 4M^2\cdot \min_{y_i\in\mathcal{Y}} |x-y_i| + \bigg\|2\sum_{i=1}^{M}
\prod_{\substack{y_j\in\mathcal{Y}\\ y_j\neq y_i}} (x-y_j)^2\bigg\|.
\end{equation*}
Choose $\eta_i$ so small such that
\begin{equation*}
\eta_i \leq \min \bigg\{ \underbrace{2e\cdot \left(\frac{\varepsilon}{2M^2(16Q^2+12Q)a_i}\right)^2
}_{(C1)}, \underbrace{ \left(\frac{\varepsilon\cdot
e^{3/2}}{8MQa_i(3/2)^{3/2}}\right)^2}_{(C2)}\bigg\}.
\end{equation*}
Several norms can be handled simultaneously:
\begin{multline*}
\max\{ \|\varphi \psi A\|,\|\varphi' \psi A\|, \|\varphi \psi' A\|, \|\varphi \psi'' A\|, \|\varphi' \psi' A\| \} \\
\leq \sum_{i=1}^M 2M(16Q^2+12Q)a_i |x-y_i| \cdot e^{\frac{-(x-y_i)^2}{\eta_i}} \leq \varepsilon
\end{multline*}
by~\cref{eq:BoundA(x)} and $(C1)$ (with the choice $p=1, q=0$ and $c=2M(16Q^2+12Q)a_i$). Two more
norms can be handled together:
\begin{equation*}
\max\{ \|\varphi \psi A'\|, \|\varphi \psi' A'\| \}
	\leq \sum_{i=1}^M 8Qa_i \frac{|x-y_i|^3}{\eta_i} \cdot e^{\frac{-(x-y_i)^2}{\eta_i}} \leq \varepsilon
\end{equation*}
by~\cref{eq:BoundA(x)} and $(C2)$ (with the choice $p=3, q=-1$ and $c=8Qa_i$). These bounds already
imply that $\|g-f\|\leq (e^{\varepsilon}-1)\cdot \|f\|$ and $\|g'-f'\|\leq
(e^{\varepsilon}-1)\cdot\|f'(x)\|+3\varepsilon e^{\varepsilon} \cdot\|f(x)\|$.

The remaining three norms, $\|\varphi'' \psi A\|,\|\varphi \psi A''\|$ and $\|\varphi' \psi A'\|$
require additional care. The trivial bounds can not be blindly used in some of the expressions when
$x$ is too close to one of the $y_i$. We demonstrate this on $\|\varphi'' \psi A\|$ and leave the
other two to the reader since the arguments are analogous.

Besides $\eta_i\leq\min\{(C1),(C2)\}$, we need further restrictions on $\eta_i$. Assume that
\begin{equation}\label{eq:eta1/3Bound}
	\eta_i\leq \min \bigg\{ \underbrace{ \Big( \frac{\varepsilon\sqrt{2e}}{4M^3a_i} \Big)^2
	}_{(C3)}, \underbrace{ \frac{\varepsilon e}{2M^2a_i} }_{(C4)} \bigg\},\qquad
	\eta_i^{1/3} < \frac{1}{2} \min\big\{ y_{i+1}-y_i, y_i-y_{i-1} \big\} 
\end{equation}
and
\begin{equation}\label{eq:etaOtherBound}
	\sum_{i=1}^M 2a_i\cdot e^{-\eta_i^{-1/3}} < \varepsilon.
\end{equation}
Clearly all these conditions can be simultaneously satisfied. Using the bound on $\|\varphi''\|$,
\begin{equation*}
	\big|\varphi''(x)\cdot \psi(x)\cdot A(x)\big|\leq  \bigg| 2\psi(x)\cdot A(x)\cdot
	\sum_{i=1}^{M}  \prod_{\substack{y_j\in\mathcal{Y}\\ y_j\neq y_i}} (x-y_j)^2 \bigg| +
	4M^2\cdot \sum_{i=1}^{M} a_i|x-y_i| \cdot e^{\frac{-(x-y_i)^2}{\eta_i}}.
\end{equation*}
The second term is $\leq \varepsilon$ because we can apply~\cref{eq:BoundA(x)} and $(C3)$. The first
term is a double sum which we split into two parts
\begin{equation*}
	\underbrace{2\psi(x)\cdot  \sum_{i=1}^{M} a_i e^{\frac{-(x-y_i)^2}{\eta_i}}
	\prod_{\substack{y_j\in\mathcal{Y}\\ y_j\neq y_i}} (x-y_j)^2}_{=: I(x)} +
	2 \sum_{k=1}^{M}  a_k  e^{\frac{-(x-y_k)^2}{\eta_k}} \underbrace{\sum_{\substack{i=1 \\
	i\neq k}}^{M} \prod_{\substack{y_j\in\mathcal{Y}\\ y_j\neq y_i}} (x-y_j)^2}_{\leq
      M(x-y_k)^2}.
\end{equation*} 
We can apply~\cref{eq:BoundA(x)} again to the second term and then $(C4)$ to see that the second
term is $\leq \varepsilon$. What remains is to bound $I(x)$. This is where we distinguish whether
$x$ is close to a $y_i$ or not. Recall, we assume~\cref{eq:eta1/3Bound}. If $x$ is not too close to
any of the $y_i$ in the sense that $x\in\bigcap_{i=1}^M (y_i-\eta_i^{1/3}, y_i+\eta_i^{1/3})^C$,
then we use the trivial bounds
\begin{equation*}
	I(x) \leq \sum_{i=1}^{M} 2a_ie^{-\eta_i^{-1/3}} \stackrel{\eqref{eq:etaOtherBound}}{<} \varepsilon.
\end{equation*}
So assume $x\in(y_i-\eta_i^{1/3}, y_i+\eta_i^{1/3})$ for some $y_i\in\mathcal{Y}$. Since $x$ is
still far enough from the other $y_j$, we just use the same bound there:
\begin{equation*}
	I(x) \leq 2a_i \psi(x) \prod_{y_j\in\mathcal{Y}\setminus\{y_i\}} (x-y_j)^2 +
	\sum_{\substack{j=1 \\ j\neq i}}^{M} 2a_j e^{-\eta_j^{-1/3}}
	\stackrel{\eqref{eq:etaOtherBound}}{<} \varepsilon + 2a_i \psi(x)
	\prod_{y_j\in\mathcal{Y}\setminus\{y_i\}} (x-y_j)^2.
\end{equation*}
In the final term, we substitute the value of $a_i$ from~\cref{eq:a_iChoice} and $\psi(x)$ to get
\begin{align*}
	I(x)&\leq \delta \cdot \frac{|f'(y_i)|}{|f(y_i)|} \prod_{\substack{y_j\in\mathcal{Y} \\
	y_j\neq y_i}} \frac{(x-y_j)^2}{(y_i - y_j)^2}  \prod_{z_j\in\mathcal{Z}}
	\frac{(x-z_j)^4}{(y_i - z_j)^4} \\
	&\stackrel{\eqref{eq:eta1/3Bound}}{\leq}  \delta \cdot
	\frac{|f'(y_i)|}{|f(y_i)|}\prod_{\substack{y_j\in\mathcal{Y} \\ y_j\neq y_i}}\!\! \Big(
	1+\frac{\eta_i^{1/3}}{|y_i-y_j|} \Big)^2 \prod_{z_j\in\mathcal{Z}}\!\! \Big(
      1+\frac{\eta_i^{1/3}}{|y_i-z_j|} \Big)^4. 
\end{align*}
We may assume by choosing $\eta_i$ even smaller if necessary that the product of the final two
products is at most say 2. Since we also assume that $f([0,1])\subset (0,1)$ and $0<|f'(x)|<1$ for
every $x$, we have shown that $I(x)\leq C\cdot\delta+\varepsilon$ for some constant $C>0$ depending
only $f$. This completes the bound for $\| \varphi'' \psi A\|$. 
\end{proof}

\begin{comment}"Old proof, really the same, just got slightly restructured"
\begin{proof}[Proof of~\cref{prop:AnalyticBumpFunc}]
The argument is essentially a careful analysis of the function $g$ defined in~\cref{eq:BumpFunc} with the choice 
\begin{equation}\label{eq:a_iChoice}
a_i = \frac{\delta \cdot |f'(y_i)|}{2  \cdot |f(y_i)|}
\Big(\prod_{y_j\in\mathcal{Y}\setminus\{y_i\}} (y_i - y_j)^2 \cdot \prod_{z_j\in\mathcal{Z}} (y_i -
z_j)^4 \Big)^{-1}
\end{equation}
and 
\begin{equation}\label{eq:eta_iBound1}
\eta_i\leq \min\bigg\{ \underbrace{\frac{\varepsilon \cdot C(2,0)}{M a_i}}_{(C1)},\;
\underbrace{\Big(\frac{\varepsilon e^{1/2}\sqrt{2}}{2M^2 a_i}\Big)^2}_{(C2)},\;
\underbrace{\frac{\varepsilon e}{4QMa_i}}_{(C3)},\; \underbrace{\Big( \frac{\varepsilon (2e/3)^{3/2}
}{2 Ma_i} \Big)^2}_{(C4)} \bigg\}
\end{equation}
for every $i=1,\ldots,M$. We will make further compatible restrictions on $\eta_i$ later in the proof.

By construction $\varphi(y_i) = \varphi'(y_i) =0$ for every $ y_i\in\mathcal{Y}$ and $\psi(z_i) =
\psi'(z_i) = \psi''(z_i)=0$ for every $z_i\in\mathcal{Z}$, hence,
\begin{equation*}
g(y_i)=f(y_i) \text{ and } g'(y_i)=f'(y_i) \text{ for every } y_i\in\mathcal{Y},
\end{equation*}
moreover,
\begin{equation*}
g(z_i)=f(z_i),\, g'(z_i)=f'(z_i) \,\text{ and } g''(z_i)=f''(z_i) \;\text{ for every } z_i\in\mathcal{Z}.
\end{equation*}

We use that $|x-y_i|\leq 1$ and $|x-z_i|\leq 1$ throughout the proof without further mention. Since
$\varphi(x)\cdot \psi(x)\cdot A(x)\geq 0$, we see that
\begin{equation*}
|g(x)-f(x)| = f(x)\big( e^{\varphi(x)\cdot \psi(x)\cdot A(x)} -1 \big) \,\text{ for every } x\in[0,1].
\end{equation*}
We can bound the exponent
\begin{equation*}
\sup_{x\in[0,1]} \varphi(x)\cdot \psi(x)\cdot A(x) \leq \sup_{x\in[0,1]} \sum_{i=1}^{M} a_i\cdot
(x-y_i)^2 \cdot e^{\frac{-(x-y_i)^2}{\eta_i}} \leq \varepsilon,
%\stackrel{\eqref{eq:BoundA(x)}}{\leq} \sum_{i=1}^{M} a_i\cdot \eta_i \cdot e^{-1}
\stackrel{(C1)}{\leq} \varepsilon,
\end{equation*}
where the last inequality follows from applying~\cref{eq:BoundA(x)} and $(C1)$ to each summand. This shows that $\|g-f\|_{\infty}$ can be made arbitrarily small.

Let us now turn to the difference $g'-f'$. Differentiation of $g$ immediately shows that
\begin{equation*}
g'-f'= f'\cdot \big(e^{\varphi\cdot \psi\cdot A}-1\big) + f\cdot e^{\varphi\cdot \psi\cdot A}\big( \varphi'\cdot \psi\cdot A + \varphi\cdot \psi'\cdot A +\varphi\cdot \psi\cdot A' \big),
\end{equation*}
where
\begin{align*}
\varphi'(x)&= \sum_{i=1}^{M} 2(x-y_i) \prod_{y_j\in\mathcal{Y}\setminus\{y_i\}} (x-y_j)^2, \\
\psi'(x)&= \sum_{i=1}^{Q} 4(x-z_i)^3 \prod_{z_j\in\mathcal{Z}\setminus\{z_i\}} (x-z_j)^4, \\
A'(x)&= -2\cdot \sum_{i=1}^{M} a_i \frac{x-y_i}{\eta_i} e^{\frac{-(x-y_i)^2}{\eta_i}}.
\end{align*}
We can use the bound from the previous step to see that
\begin{equation*}
|g'(x)-f'(x)| \leq |f'(x)|(e^{\varepsilon}-1)+|f(x)|\cdot e^{\varepsilon}\cdot\big( |\varphi'\cdot \psi\cdot A| + |\varphi\cdot \psi'\cdot A| +|\varphi\cdot \psi\cdot A'| \big).
\end{equation*}
We bound the three terms in the last parenthesis separately. Since $|\varphi'|\leq 2M|x-y_i|$, we obtain
\begin{equation*}
|\varphi'\cdot \psi\cdot A| \leq \sum_{i=1}^M 2Ma_i|x-y_i| \cdot e^{\frac{-(x-y_i)^2}{\eta_i}} \stackrel{\eqref{eq:BoundA(x)}}{\leq} \sum_{i=1}^M 2Ma_i \frac{\eta_i^{1/2}}{\sqrt{2}}\cdot e^{-1/2} \stackrel{(C2)}{\leq}  \varepsilon.
\end{equation*}
For the second term we simply use that $|\psi'|\leq 4Q$:
\begin{equation*}
|\varphi\cdot \psi'\cdot A| \leq \sum_{i=1}^M 4Qa_i\cdot |x-y_i|^2\cdot e^{\frac{-(x-y_i)^2}{\eta_i}} \stackrel{\eqref{eq:BoundA(x)}}{\leq} \sum_{i=1}^M 4Qa_ie^{-1}\eta_i \stackrel{(C3)}{\leq}  \varepsilon.
\end{equation*}
As for the final term
\begin{equation*}
|\varphi\cdot \psi\cdot A'|\leq \sum_{i=1}^{M} 2a_i \frac{|x-y_i|^3}{\eta_i} e^{\frac{-(x-y_i)^2}{\eta_i}} \stackrel{\eqref{eq:BoundA(x)}}{\leq} \sum_{i=1}^M 2 \frac{a_i}{\eta_i} \frac{3^{3/2}\eta_i^{3/2}}{2^{3/2}}\cdot e^{-3/2} \stackrel{(C4)}{\leq}  \varepsilon.
\end{equation*}
Combining all the bounds we obtain $\|g'-f'\|_{\infty}\leq (e^{\varepsilon}-1)\cdot\|f'(x)\|_{\infty}+3\varepsilon e^{\varepsilon} \cdot\|f(x)\|_{\infty}$.

Dealing with the second derivative of $g$ is the most tedious. It is equal to
\begin{multline}\label{eq:gSecondDerivative}
	g'' = f''  e^{\varphi \psi A} + 2f'e^{\varphi \psi A}\big( \varphi' \psi A + \varphi \psi' A +\varphi \psi A' \big) + f e^{\varphi \psi A}\big( \varphi' \psi A + \varphi \psi' A +\varphi \psi A' \big)^2 \\
	+ f e^{\varphi \psi A}\big( \varphi'' \psi A + \varphi \psi'' A +\varphi \psi A'' +2\varphi' \psi' A + 2\varphi' \psi A' +2\varphi \psi' A'\big),
\end{multline}
where
\begin{align}
\varphi''(x)&= 2\sum_{i=1}^{M}  \prod_{\substack{y_j\in\mathcal{Y}\\ y_j\neq y_i}} (x-y_j)^2+ 4\sum_{i=1}^{M} (x-y_i) \sum_{\substack{k=1\\k\neq i}}^{M} (x-y_k) \prod_{\substack{y_j\in\mathcal{Y} \\ y_j\notin\{y_i,y_k\}}} (x-y_j)^2, \label{eq:phi''} \\
\psi''(x)&= 12\sum_{i=1}^{Q} (x-z_i)^2 \prod_{\substack{z_j\in\mathcal{Z} \\ z_j\neq z_i}} (x-z_j)^4 + 16\sum_{i=1}^{Q} (x-z_i)^3 \sum_{\substack{k=1\\k\neq i}}^{Q} (x-z_k)^3 \prod_{\substack{z_j\in\mathcal{Z} \\ z_j\notin \{z_i,z_k\}}} (x-z_j)^4 \nonumber \\
A''(x)&= 2\cdot \sum_{i=1}^{M} a_i \Big( \frac{2(x-y_i)^2}{\eta_i^2} -\frac{1}{\eta_i} \Big) e^{\frac{-(x-y_i)^2}{\eta_i}}. \nonumber
\end{align}
Since $\varphi''(y_i)\neq 0$, let us evaluate
\begin{align*}
g''(y_i) &= f''(y_i) + f(y_i)\varphi''(y_i)\psi(y_i)A(y_i) \\
&=  f''(y_i) + 2f(y_i) \prod_{\substack{y_j\in\mathcal{Y}\\ y_j\neq y_i}} (y_i-y_j)^2  \prod_{z_j\in\mathcal{Z}} (y_i-z_j)^4 \bigg( a_i+ \sum_{\substack{j=1 \\ j\neq i}}^{M} a_j\cdot e^{\frac{-(y_i-y_j)^2}{\eta_j}} \bigg).
\end{align*}
Dividing both sides by $f'(y_i)=g'(y_i)$ and rearranging we get
\begin{equation*}
\left| \frac{g''(y_i)}{g'(y_i)} - \frac{f''(y_i)}{f'(y_i)} \right|\geq 2a_i\cdot \frac{|f(y_i)|}{|f'(y_i)|}\prod_{y_j\in\mathcal{Y}\setminus\{y_i\}} (y_i-y_j)^2  \prod_{z_j\in\mathcal{Z}} (y_i-z_j)^4 \stackrel{\eqref{eq:a_iChoice}}{\geq} \delta
\end{equation*}
for all $y_i\in\mathcal{Y}$ as required.

It remains to bound $\|g''-f''\|_{\infty}$. We now make further restrictions on $\eta_i$. Let us assume that $\eta_i$ is so small such that besides satisfying~\cref{eq:eta_iBound1} it also satisfies all of the following:
\begin{equation*}
\eta_i\leq \min \bigg\{ \underbrace{ \frac{\varepsilon e}{(16Q^2+12Q)Ma_i} }_{(C5)}, \underbrace{ \Big( \frac{\varepsilon \sqrt{2e}}{16QM^2a_i} \Big)^2 }_{(C6)}, \underbrace{ \Big( \frac{\varepsilon (2e/3)^{3/2}}{16QMa_i} \Big)^2 }_{(C7)}, \underbrace{ \Big( \frac{\varepsilon\sqrt{2e}}{4M^3a_i} \Big)^2 }_{(C8)}, \underbrace{ \frac{\varepsilon e}{2M^2a_i} }_{(C9)} \bigg\}
\end{equation*}
and
\begin{equation}\label{eq:eta1/3Bound}
\eta_i^{1/3} < \frac{1}{2} \min\big\{ y_{i+1}-y_i, y_i-y_{i-1} \big\},
\end{equation}
for every $i=1,\ldots,M$, recall $y_i$ are in increasing order. Furthermore, assume
\begin{equation}\label{eq:etaOtherBound}
\sum_{i=1}^M 8a_i(\eta_i^{-2}+\eta_i^{-1}+1)\cdot e^{-\eta_i^{-1/3}} < \varepsilon.
\end{equation}
Clearly all these conditions can be simultaneously satisfied.

Using previous calculations, we see from~\cref{eq:gSecondDerivative} that
\begin{multline*}
\|g'' -f''\|_{\infty}= (e^{\varepsilon}-1)\cdot \|f''\|_{\infty} + 6\varepsilon e^{\varepsilon}\cdot \|f'\|_{\infty} + 9\varepsilon^2 e^{\varepsilon}\cdot \|f\|_{\infty} \\
	+ e^{\varepsilon}\cdot \|f\|_{\infty} \cdot \| \varphi'' \psi A + \varphi \psi'' A +\varphi \psi A'' +2\varphi' \psi' A + 2\varphi' \psi A' +2\varphi \psi' A' \|_{\infty}.
\end{multline*}
We bound each term in the last norm separately. To see that 
\begin{equation*}
\max\big\{ \|\varphi \psi'' A\|_{\infty}, \|2\varphi' \psi' A\|_{\infty}, \|2\varphi \psi' A'\|_{\infty}\big\}\leq \varepsilon,
\end{equation*}
just use the trivial bounds, then apply~\cref{eq:BoundA(x)} with the appropriate $p$ and finally use $(C5)$, $(C6)$, $(C7)$, respectively. The other terms require additional care. The trivial bounds can not be blindly used in some of the expressions when $x$ is too close to one of the $y_i$. 

First consider $\| \varphi'' \psi A\|_{\infty}$. Since the second term in~\cref{eq:phi''} of $\varphi''(x)$ is bounded from above by $4M^2\cdot|x-y_i|$ for every $i=1,\ldots,M$ and $\psi(x)\leq 1$, we can bound
\begin{equation*}
|\varphi''(x)\cdot \psi(x)\cdot A(x)|\leq  \bigg| 2\psi(x)\cdot A(x)\cdot \sum_{i=1}^{M}  \prod_{\substack{y_j\in\mathcal{Y}\\ y_j\neq y_i}} (x-y_j)^2 \bigg| + 4M^2\cdot \sum_{i=1}^{M} a_i|x-y_i| \cdot e^{\frac{-(x-y_i)^2}{\eta_i}}.
\end{equation*}
The second term is $\leq \varepsilon$ because we can apply~\eqref{eq:BoundA(x)} and $(C8)$. The first term is a double sum which we split into two parts
\begin{equation*}
\underbrace{2\psi(x)\cdot  \sum_{i=1}^{M} a_i e^{\frac{-(x-y_i)^2}{\eta_i}} \prod_{\substack{y_j\in\mathcal{Y}\\ y_j\neq y_i}} (x-y_j)^2}_{=: I(x)} +
2 \sum_{k=1}^{M}  a_k  e^{\frac{-(x-y_k)^2}{\eta_k}} \underbrace{\sum_{\substack{i=1 \\ i\neq k}}^{M} \prod_{\substack{y_j\in\mathcal{Y}\\ y_j\neq y_i}} (x-y_j)^2}_{\leq M(x-y_k)^2}.
\end{equation*} 
We can apply~\cref{eq:BoundA(x)} again to the second term and then $(C9)$ to see that the second term is $\leq \varepsilon$. What remains is to bound $I(x)$. This is where we distinguish whether $x$ is close to a $y_i$ or not. Recall, we assume~\cref{eq:eta1/3Bound}. If $x$ is not too close to any of the $y_i$ in the sense that $x\in\bigcap_{i=1}^M (y_i-\eta_i^{1/3}, y_i+\eta_i^{1/3})^C$, then we use the trivial bounds
\begin{equation*}
I(x) \leq \sum_{i=1}^{M} 2a_ie^{-\eta_i^{-1/3}} \stackrel{\eqref{eq:etaOtherBound}}{<} \varepsilon.
\end{equation*}
So assume $x\in(y_i-\eta_i^{1/3}, y_i+\eta_i^{1/3})$ for some $y_i\in\mathcal{Y}$. Since $x$ is still far enough from the other $y_j$, we just use the same bound there:
\begin{equation*}
I(x) \leq 2a_i \psi(x) \prod_{y_j\in\mathcal{Y}\setminus\{y_i\}} (x-y_j)^2 + \sum_{\substack{j=1 \\ j\neq i}}^{M} 2a_j e^{-\eta_j^{-1/3}} \stackrel{\eqref{eq:etaOtherBound}}{<} \varepsilon + 2a_i \psi(x) \prod_{y_j\in\mathcal{Y}\setminus\{y_i\}} (x-y_j)^2.
\end{equation*}
In the final term, we substitute the value of $a_i$ from~\cref{eq:a_iChoice} and $\psi(x)$ to get
\begin{align*}
I(x)&\leq \delta \cdot \frac{|f'(y_i)|}{|f(y_i)|} \prod_{\substack{y_j\in\mathcal{Y} \\ y_j\neq y_i}} \frac{(x-y_j)^2}{(y_i - y_j)^2}  \prod_{z_j\in\mathcal{Z}} \frac{(x-z_j)^4}{(y_i - z_j)^4} \\
&\stackrel{\eqref{eq:eta1/3Bound}}{\leq}  \delta \cdot \frac{|f'(y_i)|}{|f(y_i)|}\prod_{\substack{y_j\in\mathcal{Y} \\ y_j\neq y_i}}\!\! \Big( 1+\frac{\eta_i^{1/3}}{|y_i-y_j|} \Big)^2 \prod_{z_j\in\mathcal{Z}}\!\! \Big( 1+\frac{\eta_i^{1/3}}{|y_i-z_j|} \Big)^4. 
\end{align*}
We may assume by choosing $\eta_i$ even smaller if necessary that the product of the final two products is at most say 2. Since we also assume that $f([0,1])\subset (0,1)$ and $0<|f'(x)|<1$ for every $x$, we have shown that $I(x)\leq C\cdot\delta+\varepsilon$ for some constant $C>0$ depending only $f$. This completes the bound for $\| \varphi'' \psi A\|_{\infty}$. 

{\color{red} Quick finish: The argument for bounding $\| \varphi \psi A''\|_{\infty}$ and $2\| \varphi' \psi A'\|_{\infty}$ is completely analogous and is omitted. Or we need to add another 1.5-2 pages. If omitted, then we can change condition~\cref{eq:etaOtherBound} slightly.}
%\begin{equation*}
%	\prod_{y_j\in\mathcal{Y}\setminus\{y_i\}} \Big( 1+\frac{\eta_i^{1/3}}{|y_i-y_j|} \Big)^2 \prod_{z_j\in\mathcal{Z}} \Big( 1+\frac{\eta_i^{1/3}}{|y_i-z_j|} \Big)^4<2,
%\end{equation*}
\end{proof}
\end{comment}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Proof of~\cref{thm:ESCOpenDense}}

{\color{red}Still need to write down open property}

{\color{red}Proof of denseness} The idea is to apply~\cref{prop:AnalyticBumpFunc} to each map $f_i$
of the IFS with appropriately chosen collection of points $\mathcal{Y}_i$ and $\mathcal{Z}_i$
using~\cref{lem:Pointsx_ij} to get the maps $\{g_i\}_{i=1}^N$. We then lift the IFS
$\{g_i\}_{i=1}^N$ as in~\cref{eq:LiftedIFS} to obtain the IFS $\{G_i\}_{i=1}^N$ and show that this
IFS satisfies the SSP. Then~\cref{thm:ESCOpenDense} follows immediately from~\cref{thm:main}.

Throughout $n\geq 1$ is arbitrary but fixed. Recall,
$\mathcal{B}_n=\{(\bi,\bj)\in\Sigma_n\times\Sigma_n:\, i_1<j_1\}$. Assume the points
$\{x_{\bi,\bj}:\, (\bi,\bj)\in\mathcal{B}_n\}$ are as in~\cref{lem:Pointsx_ij}. Initially,
$\mathcal{Y}_i=\mathcal{Z}_i=\varnothing$. If $(\bi,\bj)\in\mathcal{B}_n$ is bad, recall
\cref{eq:DefBad}, then either $(F_{\bj}k)(x_{\bi,\bj})<
(F_{\bi}k)(x_{\bi,\bj})<(F_{\bj}K)(x_{\bi,\bj})$ or $(F_{\bi}k)(x_{\bi,\bj})<
(F_{\bj}k)(x_{\bi,\bj})<(F_{\bi}K)(x_{\bi,\bj})$. In the first case, $x_{\bi,\bj}$ is added to
$\mathcal{Y}_{i_1}$ and $\mathcal{Z}_{j_1}$, while in the second case, $x_{\bi,\bj}$ is added to
$\mathcal{Z}_{i_1}$ and $\mathcal{Y}_{j_1}$. If $(\bi,\bj)\in\mathcal{B}_n$ is not bad, then
$x_{\bi,\bj}$ is added to both $\mathcal{Z}_{i_1}$ and $\mathcal{Z}_{j_1}$. In addition, for all
$i=1,\ldots,N$, we add to $\mathcal{Z}_i$ the set
\begin{equation*}
\bigcup_{(\bi,\bj)\in\mathcal{B}_n} \big(\mathcal{O}_{\bi}(x_{\bi,\bj})\cup
\mathcal{O}_{\bj}(x_{\bi,\bj})\big)\setminus\{x_{\bi,\bj}\},
\end{equation*}
where recall $\mathcal{O}_{\bi}(x)= \{x,f_{i_1}(x), f_{i_2i_1}(x),\ldots,f_{i_{|\bi|}\ldots
i_1}(x)\}$. This completes the construction of $\mathcal{Y}_i$ and $\mathcal{Z}_i$. We also choose
$\delta\coloneqq c_{\max}^n(K-k)$ and $\varepsilon<\delta$ so small such that... {\color{red}this I
didn't quite get.} We are now ready to apply~\cref{prop:AnalyticBumpFunc}.

To each $f_i$ and $\mathcal{Y}_i, \mathcal{Z}_i$ we obtain a $g_i$ which satisfies the properties
listed in~\cref{prop:AnalyticBumpFunc} with the $\delta$ and $\varepsilon$ defined above. We lift
each $g_i$ as in~\cref{eq:LiftedIFS}, i.e. 
\begin{equation*}
(G_ih)(x)\coloneqq g'_i(x)\cdot h(g_i(x)) + \frac{g''_i(x)}{g'_i(x)}
\end{equation*}
and recall its iterates from~\eqref{eq:IteratesLiftedIFS}.

By the construction of $g_i$, on one hand,
\begin{equation*}
(G_{\bi}h)(x_{\bi,\bj})=(F_{\bi}h)(x_{\bi,\bj}) \; \text{ if } x_{\bi,\bj}\in\mathcal{Z}_{i_1}, 
\end{equation*}
likewise, $(G_{\bj}h)(x_{\bi,\bj})=(F_{\bj}h)(x_{\bi,\bj})$ if $x_{\bi,\bj}\in\mathcal{Z}_{j_1}$. On
the other hand, {\color{red}not quite precise}
\begin{equation*}
\big|(G_{\bi}h)(x_{\bi,\bj})-(F_{\bi}h)(x_{\bi,\bj})\big| = \left|
\frac{g_{i_1}''(x_{\bi,\bj})}{g_{i_1}'(x_{\bi,\bj})} -
\frac{f_{i_1}''(x_{\bi,\bj})}{f_{i_1}'(x_{\bi,\bj})} \right|\geq \delta \; \text{ if }
x_{\bi,\bj}\in\mathcal{Y}_{i_1},
\end{equation*}
and similarly, $\big|(G_{\bj}h)(x_{\bi,\bj})-(F_{\bj}h)(x_{\bi,\bj})\big|\geq \delta$ if
$x_{\bi,\bj}\in\mathcal{Y}_{j_1}$. The choice of $\delta$ implies that regardless of whether
$(\bi,\bj)\in\mathcal{B}_n$ is bad or not we can conclude that $G_{\bi}(k,K)\cap
G_{\bj}(k,K)=\varnothing$. Therefore, $\{G_i\}_{i=1}^N$ satisfies the SSP, hence, $\{g_i\}_{i=1}^N$
satisfies the SESC by~\cref{thm:main}. Moreover,
$\|f_i-g_i\|_{\mathcal{C}^2}<3\delta=3c_{\max}^n(K-k)$ which can be made arbitrarily small by
choosing $n$ large enough. This concludes the proof of~\cref{thm:ESCOpenDense}.   

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Proof of~\cref{thm:SubConjugation}}\label{sec:ProofConjugation}

Assume that $\Phi=\{f_i\}_{i\in\Sigma_1}$ is a uniformly contracting analytic IFS whose attractor is
not a singleton. Suppose $i\in\Sigma_1$ and write $i^{n}=\underbrace{ii\ldots i}_{n \text{ times}}$
for $n\in\mathbb{N}\cup\{\infty\}$. Then
\[
H_{i^{\infty}}(x)=\sum_{k=0}^\infty\frac{f_i''}{f_i'}(f_{i^k}(x))\cdot f'_{i^k}(x)
\]
by definition~\cref{eq:H_i(x)}. Assuming that the fixed point of $f_i$ is $p$, we can integrate
\[
\int_p^x H_{i^{\infty}}(y)dy=\sum_{k=0}^\infty\left(\log\left(f'_i(f_{i^k}(x))\right)-\log
f_i'(p)\right)=\log\left(\prod_{k=0}^\infty\frac{f'_i(f_{i^k}(x))}{f'_i(p)}\right),
\]
by analyticity, hence,
\[
e^{\int_p^x H_f(y)dy}=\lim_{n\to\infty}\frac{f'_{i^n}(x)}{(f_i'(p))^n}.
\]
We now define the analytic function
\[
g(x)\coloneqq\int_p^xe^{\int_p^z H_{i^{\infty}}(y)dy}dz=\lim_{n\to\infty}\frac{f_{i^n}(x)-p}{(f_i'(p))^n}.
\]
Observe that $g(p)=0$ and $g'(p)=1$, moreover, $g$ is the solution of the second-degree ordinary
differential equation
\[
g''(x)=H_{i^{\infty}}(x)g'(x).
\]
We claim that conjugation of $f_i$ by $g$ is an affine map, \ie $g(f_i(x))=r\cdot g(x)+t$ for some
$r\neq0$ and $t\in\bbR$. Indeed,
\begin{equation*}
g(f_i(x)) = \lim_{n\to\infty}\frac{f_{i^{n+1}}(x)-p}{(f_i'(p))^n} = f_i'(p)\cdot g(x).
\end{equation*}
More generally, letting $\hat{g}(x)=a\cdot g(x)+b$ for some $a\neq0$ and $b\in\bbR$, then
\[
\hat{g}(f_i(x))=a\cdot g(f_i(x))+b=a\cdot f_i'(p) g(x)+b=f_i'(p)\cdot \hat{g}(x)+b(1-f_i'(p)).
\]
Thus, $f_i$ is conjugated to the linear map $x\mapsto f_i'(p)\cdot x+b(1-f_i'(p))$ for any value of
$b$. Conjugating the IFS $\Phi$ with $\hat{g}$ establishes the first assertion
of~\cref{thm:SubConjugation}.

We prove the remaining two claims of~\cref{thm:SubConjugation} separately. {\color{red} Needs work
(left it as was written down earlier)}

\begin{proof}[Proof of~\cref{thm:SubConjugation} part $1$]
One direction

Let $\{f_i\}_{i}$ be an IFS such that $H_{f_i}\equiv H_{f_j}\equiv H$ for every $i\neq j$. Let $p_i$
be the fixed point of $f_i$, and let
$g$ be an arbitrary solution of the equation $g''=Hg'$. Then
$$
g(f_i(x))=f_i'(p_i)x+g(p_i)(1-f_i'(p_i)).
$$

Other direction

	Let $p_{\bi}$ be the fixed point of $f_{\bi}$ for some $\bi\in\Sigma_*$. Then,
\[
g(f_{\bi}(x)) = \lambda_{\bi} g(x) + t_{\bi}
\quad\text{and}\quad
g(p_{\bi}) = \frac{t_{\bi}}{1-\lambda_{\bi}}.
\]
We have
\[
g'(f_{\bi}(x))\cdot f_{\bi}'(x) = \lambda_{\bi} g'(x)
\quad\text{and}\quad
|g'(p_{\bi})||f'_{\bi}(p_{\bi})-\lambda_{\bi}| = 0.
\]
Since $|g'(p_{\bi})|>0$ we must have $f'_{\bi}(p_{\bi}) = \lambda_{\bi}$.
Differentiating again we get
\[
g''(f_{\bi}(x))\cdot f'_{\bi}(x)^2 +g'(f_{\bi}(x))\cdot f''_{\bi}(x) = \lambda_{\bi} g''(x)
\]
and
\[
\frac{g''(p_{\bi})}{g'(p_{\bi})} =
\frac{f_{\bi}''(p_{\bi})}{f_{\bi}'(p_{\bi})(1-f'_{\bi}(p_{\bi}))}
=\frac{H_{\bbi}(p_{\bi})}{1-f'_{\bi}(p_{\bi})}.
\]
Now let $\bi,\bj\in\Sigma$ be arbitrary but fixed. Let $\bk_n = \bi|_n \bbj|_n$, where $\bbj|_n =
j_nj_{n-1}\dots j_1$.
Then $p_{\bk_n}\to \pi(\bi)$ as $n\to\infty$ and so
\[
\frac{g''(p_{\bk_n})}{g'(p_{\bk_n})}
=\frac{H_{\bj|_n \bbi|_n}(p_{\bk_n})}{1-f'_{\bk_n}(p_{\bk_n})}
\to
H_{\bj}(\pi(\bi))\quad \text{as}\quad n\to\infty.
\]
However, the left-hand side converges to $g''(\pi(\bi))/g'(\pi(\bi))$ and so we get $H_{\bj}(x) =
H_{\bk}(x)$ for any choice of $\bj,\bk$. Since $\bi$ was also arbitrary, we get $H_{\bj}(x) =
H_{\bk}(x)$ on an uncountable set and by analyticity, $H_{\bi}(x)\equiv H_{\bk}(x)$ for all $x\in I$
and all $\bj,\bk\in \Sigma\cup \Sigma_*$.
\end{proof}

\begin{proof}[Proof of~\cref{thm:SubConjugation} part $2$]


By considering subsystems, we may assume without loss of generality that $\Phi =
\{f_i\}_{i\in\Sigma_1}$ is conjugated to a self-similar IFS.
We show that $H_{\bi}(x) \equiv H_{\bj}(x)$ for all $\bi,\bj\in\Sigma$.
\end{proof}


\bibliographystyle{abbrv}
\bibliography{biblio_ConfESC}



\Addresses

\end{document}
